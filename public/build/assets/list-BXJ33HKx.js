import{j as e,$ as x,S as p,R as C,L as y}from"./app-6Tb5ZP8Z.js";import{D,a as N,b as _,c as m,d as v,A as R}from"./app-layout-D9kDhLsM.js";import{D as l}from"./data-table-column-header-qQbq3NMY.js";import{B as f}from"./app-logo-icon-DuFZg3_n.js";import{C as j}from"./checkbox-DapDvUN-.js";import{E as T,u as I,f as S,D as M,g as P}from"./index-DLXG6-T8.js";import{D as K}from"./data-table-toolbar-R2IY-M8I.js";import{T as L,a as k,b as h,c as A,d as z,e as b}from"./table-BV1WF4_B.js";/* empty css            */import"./index-B0gXBjpX.js";import"./check-DFbbQ8R1.js";import"./input-Tv1L73iO.js";import"./select-rOePYllV.js";const E=[{id:"select",header:({table:t})=>e.jsx(j,{checked:t.getIsAllPageRowsSelected()||t.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:s=>t.toggleAllPageRowsSelected(!!s)}),cell:({row:t})=>e.jsx(j,{checked:t.getIsSelected(),onCheckedChange:s=>t.toggleSelected(!!s)}),enableSorting:!1,enableHiding:!1},{id:"brand",accessorKey:"version.car_model.brand.brand_name",header:({column:t})=>e.jsx(l,{column:t,title:"Brand"})},{id:"model",accessorKey:"version.car_model.model_name",header:({column:t})=>e.jsx(l,{column:t,title:"Model"})},{id:"price",accessorKey:"price.final_price",header:({column:t})=>e.jsx(l,{column:t,title:"Price"}),cell:({getValue:t})=>{const s=t();return s?e.jsx("div",{className:"text-center font-medium",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s)}):e.jsx("div",{className:"text-right",children:"N/A"})}},{id:"status",accessorKey:"spect.status",header:({column:t})=>e.jsx(l,{column:t,title:"Status"}),cell:({getValue:t})=>e.jsx("div",{className:"text-center font-medium",children:t()===1?"New":"Used"})},{id:"publication_status",accessorKey:"publication_status",header:({column:t})=>e.jsx(l,{column:t,title:"Publication Status"})},{id:"selling_status",accessorKey:"car_selling_status",header:({column:t})=>e.jsx(l,{column:t,title:"Selling Status"})},{id:"created_at",accessorKey:"created_at",header:({column:t})=>e.jsx(l,{column:t,title:"Created at"})},{id:"updated_at",accessorKey:"updated_at",header:({column:t})=>e.jsx(l,{column:t,title:"Last update"})},{id:"actions",enableSorting:!1,cell:({row:t})=>{const s=t.original,n=()=>{confirm("Are you sure you want to delete this car?")&&p.delete(route("car.destroy",s.id))};return e.jsxs(D,{children:[e.jsx(N,{asChild:!0,children:e.jsx(f,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(T,{className:"h-4 w-4"})})}),e.jsxs(_,{align:"end",children:[e.jsx(m,{asChild:!0,children:e.jsx(x,{href:route("car.show",s.id),children:"Details"})}),e.jsx(m,{asChild:!0,children:e.jsx(x,{href:route("car.edit",s.id),children:"Edit"})}),e.jsx(v,{}),e.jsx(m,{onClick:n,className:"text-red-600",children:"Delete"})]})]})}}];function H({columns:t,data:s,serverPagination:n,onServerPageChange:u,filters:i}){const[d,g]=C.useState(i!=null&&i.sort?[{id:String(i.sort),desc:i.direction==="desc"}]:[]),o=I({data:s,columns:t,getCoreRowModel:P(),manualPagination:!0,manualSorting:!0,enableMultiSort:!0,pageCount:n.pageCount,onSortingChange:r=>{const a=typeof r=="function"?r(d):r;g(a);const w=new URL(window.location.href),c=Object.fromEntries(w.searchParams.entries());a.length?(c.sort=a[0].id,c.direction=a[0].desc?"desc":"asc",c.page="1"):(delete c.sort,delete c.direction),p.get(route(route().current()??"car.index"),c,{preserveState:!0,preserveScroll:!0,replace:!0})},onPaginationChange:r=>{const a=typeof r=="function"?r({pageIndex:n.pageIndex,pageSize:n.pageSize}):r;u(a.pageIndex+1,a.pageSize)},state:{sorting:d,pagination:{pageIndex:n.pageIndex,pageSize:n.pageSize}}});return e.jsxs("div",{className:"space-y-4",children:[e.jsx(K,{table:o,filters:i}),e.jsx("div",{className:"rounded-md border bg-white shadow-sm overflow-hidden",children:e.jsxs(L,{children:[e.jsx(k,{className:"bg-slate-50",children:o.getHeaderGroups().map(r=>e.jsx(h,{children:r.headers.map(a=>e.jsx(A,{className:"text-slate-700 font-semibold",children:a.isPlaceholder?null:S(a.column.columnDef.header,a.getContext())},a.id))},r.id))}),e.jsx(z,{children:o.getRowModel().rows.length>0?o.getRowModel().rows.map(r=>e.jsx(h,{className:"hover:bg-slate-50/50",children:r.getVisibleCells().map(a=>e.jsx(b,{children:S(a.column.columnDef.cell,a.getContext())},a.id))},r.id)):e.jsx(h,{children:e.jsx(b,{colSpan:t.length,className:"h-24 text-center text-slate-500",children:"No results found."})})})]})}),e.jsx(M,{table:o})]})}function Z({cars:t,filters:s}){const n={pageIndex:t.current_page-1,pageSize:t.per_page,pageCount:t.last_page},u=(i,d)=>{const g=new URL(window.location.href),o=Object.fromEntries(g.searchParams.entries());o.page=String(i),o.per_page=String(d),p.get(route("car.index"),o,{preserveState:!0,preserveScroll:!0,replace:!0})};return e.jsxs(R,{children:[e.jsx(y,{title:"Cars Listings"}),e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Vehicle Inventory"}),e.jsx(x,{href:route("car.create"),children:e.jsx(f,{children:"Add New Car"})})]}),e.jsx(H,{columns:E,data:t.data,serverPagination:n,filters:s,onServerPageChange:u})]})]})}export{Z as default};
