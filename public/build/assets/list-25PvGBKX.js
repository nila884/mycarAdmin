import{r as f,m as _,j as e,L as D,S as k}from"./app-D9b7yil5.js";import{A}from"./app-layout-lUKL1h8K.js";import{T as L,a as I,b as h,c as n,d as G,e as i}from"./table-DsQtr8xT.js";import{a as B,B as g}from"./app-logo-icon-BTR4zcqo.js";import{L as E}from"./layout-DHpDXm84.js";import{D as M,a as O,b as R,c as H,d as z,e as F}from"./dialog-D1i5YGBp.js";import{I as N}from"./input-B72JrJ1W.js";import{L as o}from"./label-BjwQr2PU.js";import{I as j}from"./input-error-s3OvvhyU.js";import{S as J,a as Q,b as U,c as V,d as q}from"./select-p1MIQY3c.js";import{P as $}from"./pencil-CpbSHt1Z.js";import{P as K,T as W}from"./trash-2-D5D9zQ_C.js";import{A as b}from"./anchor-RxqgCmAY.js";import{G as v}from"./globe-DcLQ2nWO.js";import{S as X}from"./shield-check-xgT34Jw-.js";import{B as Y}from"./badge-B_-_Rt-_.js";/* empty css            */import"./index-CFDuspEi.js";import"./check-BcQx4ZQH.js";import"./heading-DtOTHioi.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ee=B("Calendar",Z),y=({port:s,countries:r})=>{var p,u;const t=!!s,[a,c]=f.useState(!1),{data:m,setData:d,post:w,processing:S,errors:x}=_({_method:t?"patch":void 0,country_id:(s==null?void 0:s.country_id)||((p=r[0])==null?void 0:p.id)||"",name:(s==null?void 0:s.name)||"",code:(s==null?void 0:s.code)||""});f.useEffect(()=>{a&&t&&s&&d({_method:"patch",country_id:s.country_id,name:s.name,code:s.code||""})},[a]);const C=l=>{l.preventDefault();const P=t?"port.update":"port.store",T=t?[s.id]:[];w(route(P,...T),{onSuccess:()=>c(!1)})};return e.jsxs(M,{open:a,onOpenChange:c,children:[e.jsx(O,{asChild:!0,children:e.jsx(g,{variant:t?"ghost":"default",size:t?"icon":"sm",className:"gap-2",children:t?e.jsx($,{className:"h-4 w-4"}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"w-4 h-4"})," Add New Port"]})})}),e.jsxs(R,{className:"sm:max-w-[450px]",children:[e.jsxs(H,{children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5 text-blue-600"}),t?"Update Port Gateway":"Register New Port"]}),e.jsx(F,{children:"Configure geographical gateway details for logistics tracking."})]}),e.jsxs("form",{onSubmit:C,className:"space-y-5 pt-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg space-y-4 border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(v,{className:"w-3.5 h-3.5 text-slate-400"}),e.jsx(o,{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Regional Placement"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{className:"text-xs text-slate-600",children:"Country Jurisdiction"}),e.jsxs(J,{onValueChange:l=>d("country_id",parseInt(l)),value:(u=m.country_id)==null?void 0:u.toString(),children:[e.jsx(Q,{className:"bg-white h-9",children:e.jsx(U,{placeholder:"Assign to Country"})}),e.jsx(V,{children:r.map(l=>e.jsx(q,{value:l.id.toString(),children:l.country_name},l.id))})]}),e.jsx(j,{message:x.country_id})]})]}),e.jsxs("div",{className:"space-y-4 px-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(o,{className:"text-xs font-semibold",children:"Official Port Name"})}),e.jsx(N,{placeholder:"e.g. Port of Aqaba",value:m.name,onChange:l=>d("name",l.target.value),className:"h-10"}),e.jsx(j,{message:x.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-3.5 h-3.5 text-slate-400"}),e.jsx(o,{className:"text-xs font-semibold",children:"System Port Code"})]}),e.jsx(N,{placeholder:"e.g. JQAQ",value:m.code,onChange:l=>d("code",l.target.value),className:"h-10 font-mono uppercase"}),e.jsx(j,{message:x.code})]})]}),e.jsx(g,{type:"submit",disabled:S,className:"w-full bg-slate-900 hover:bg-slate-800 h-10",children:t?"Save Gateway Changes":"Confirm Port Registration"})]})]})]})};function be({ports:s,countries:r}){function t(a){window.confirm("Are you sure you want to delete this port? This will also delete associated shipping cost records.")&&k.delete(`/shipping/ports/${a}`,{preserveScroll:!0})}return e.jsxs(A,{children:[e.jsx(D,{title:"Port Settings"}),e.jsxs(E,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Port Gateways"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage international entry points and logistics hubs."})]}),e.jsx(y,{countries:r})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:e.jsxs(L,{children:[e.jsx(I,{className:"bg-slate-50/50",children:e.jsxs(h,{children:[e.jsx(n,{className:"w-[300px]",children:"Port Identity"}),e.jsx(n,{children:"Location"}),e.jsx(n,{children:"System Code"}),e.jsx(n,{children:"Last Activity"}),e.jsx(n,{className:"text-right px-6",children:"Management"})]})}),e.jsx(G,{children:s.length>0?s.map(a=>{var c;return e.jsxs(h,{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx(i,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(b,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-slate-900",children:a.name}),e.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Gateway Terminal"})]})]})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(v,{className:"w-3.5 h-3.5 text-slate-400"}),e.jsx("span",{className:"text-sm",children:(c=a.country)==null?void 0:c.country_name})]})}),e.jsx(i,{children:e.jsx(Y,{variant:"secondary",className:"font-mono text-[11px] bg-slate-100 text-slate-600 border-none",children:a.code||"NO-CODE"})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(ee,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"text-xs",children:a.updated_at})]})}),e.jsx(i,{className:"text-right px-6",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(y,{port:a,countries:r}),e.jsx(g,{size:"icon",variant:"ghost",className:"text-slate-400 hover:text-red-600 hover:bg-red-50",onClick:()=>t(a.id),children:e.jsx(W,{className:"h-4 w-4"})})]})})]},a.id)}):e.jsx(h,{children:e.jsx(i,{colSpan:5,className:"h-32 text-center text-slate-500 italic",children:"No ports registered in the system."})})})]})})]})]})}export{be as default};
