import{m as f,j as e,r as A,L,S as _}from"./app-D9b7yil5.js";import{H as U}from"./heading-small-BU4M6w1f.js";import{B as j,t as b}from"./app-logo-icon-BTR4zcqo.js";import{D as y,a as N,b as C,c as S,d as V,e as w}from"./dialog-D1i5YGBp.js";import{I as u}from"./input-B72JrJ1W.js";import{S as D,a as T,b as E,c as F,d as p}from"./select-p1MIQY3c.js";import{L as c}from"./label-BjwQr2PU.js";import{I as h}from"./input-error-s3OvvhyU.js";import{A as H}from"./app-layout-lUKL1h8K.js";import{S as I}from"./layout-CxIxXWMW.js";import{T as B,f as Y,a as $,b as v,c as m,d as k,e as d}from"./table-DsQtr8xT.js";/* empty css            */import"./index-CFDuspEi.js";import"./check-BcQx4ZQH.js";import"./heading-DtOTHioi.js";const z=({models:a})=>{const{data:i,setData:o,post:s,processing:r,errors:t,reset:x}=f({version_name:"",version_year:"",model_name:""}),g=n=>{n.preventDefault(),s(route("carversion.store"),{onSuccess:()=>{x(),alert("Car version created successfully!")},onError:l=>{console.error("Submission error:",l)},onFinish:()=>{}})};return e.jsxs(y,{children:[e.jsx(N,{asChild:!0,children:e.jsx(j,{variant:"outline",children:"Add New"})}),e.jsxs(C,{className:"sm:max-w-[500px]",children:[e.jsxs(S,{children:[e.jsx(V,{children:"New Version"}),e.jsx(w,{children:"Create a new car version."})]}),e.jsxs("form",{onSubmit:g,className:"w-full space-y-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"model_name",children:"Car Model"}),e.jsxs(D,{value:i.model_name,onValueChange:n=>o("model_name",n),disabled:r,children:[e.jsx(T,{children:e.jsx(E,{placeholder:"Select Car Model"})}),e.jsx(F,{children:a.length>0?a.map(n=>e.jsx(p,{value:n.model_name,children:n.model_name},n.id)):e.jsx(p,{value:"",disabled:!0,children:"No Car models available"})})]}),e.jsx(h,{message:t.model_name,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"version_name",children:"Car Model Version Name"}),e.jsx(u,{id:"version_name",placeholder:"Car version name",value:i.version_name,onChange:n=>o("version_name",n.target.value),disabled:r}),e.jsx(h,{message:t.version_name,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"version_year",children:"Car Model Version Year"}),e.jsx(u,{id:"version_year",placeholder:"e.g., 2023",value:i.version_year,onChange:n=>o("version_year",n.target.value),disabled:r}),e.jsx(h,{message:t.version_year,className:"mt-2"})]}),e.jsx(j,{type:"submit",disabled:r,children:r?"Submitting...":"Submit"})]})]})]})},R=({version:a,models:i})=>{const{data:o,setData:s,post:r,processing:t,errors:x,reset:g}=f({version_name:a.version_name,version_year:a.version_year,model_name:a.car_model_name,_method:"patch"});A.useEffect(()=>{s({version_name:a.version_name,version_year:a.version_year,model_name:a.car_model_name,_method:"patch"}),g("model_name","version_name","version_year")},[a]);const n=l=>{l.preventDefault(),r(route("carversion.update",a.id),{onSuccess:()=>{alert("Car version updated successfully!")},onError:M=>{console.error("Validation Errors:",M)},onFinish:()=>{}})};return e.jsxs(y,{children:[e.jsx(N,{asChild:!0,children:e.jsx(j,{variant:"outline",size:"sm",children:"Edit"})}),e.jsxs(C,{className:"sm:max-w-[500px]",children:[e.jsxs(S,{children:[e.jsx(V,{children:"Edit Version"}),e.jsx(w,{children:"Edit an existing car version."})]}),e.jsxs("form",{onSubmit:n,className:"w-full space-y-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"model_name",children:"Car Model"}),e.jsxs(D,{value:o.model_name,onValueChange:l=>s("model_name",l),disabled:t,children:[e.jsx(T,{children:e.jsx(E,{placeholder:"Select Car Model"})}),e.jsx(F,{children:i.length>0?i.map(l=>e.jsx(p,{value:l.model_name,children:l.model_name},l.id)):e.jsx(p,{value:"",disabled:!0,children:"No Car models available"})})]}),e.jsx(h,{message:x.model_name,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"version_name",children:"Car Model Version Name"}),e.jsx(u,{id:"version_name",placeholder:"Car version name",value:o.version_name,onChange:l=>s("version_name",l.target.value),disabled:t}),e.jsx(h,{message:x.version_name,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"version_year",children:"Car Model Version Year"}),e.jsx(u,{id:"version_year",placeholder:"e.g., 2023",value:o.version_year,onChange:l=>s("version_year",l.target.value),disabled:t}),e.jsx(h,{message:x.version_year,className:"mt-2"})]}),e.jsx(j,{type:"submit",disabled:t,children:t?"Updating...":"Update Version"})]})]})]})},P=[{title:"Car version settings",href:"/car/settings/version"}];function ie({versions:a,carModels:i}){function o(s){window.confirm("Are you sure you want to delete this version?")&&_.delete(route("carversion.destroy",s),{preserveScroll:!0,onSuccess:()=>{},onError:r=>{console.error("Delete error:",r)}})}return e.jsxs(H,{breadcrumbs:P,children:[e.jsx(L,{title:"Version settings"}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(U,{title:"Car Version settings",description:"Add new, Update and delete car Versions"}),e.jsx(z,{models:i}),e.jsxs(B,{className:"min-w-full",children:[e.jsx(Y,{children:"A list of your car versions."}),e.jsx($,{children:e.jsxs(v,{children:[e.jsx(m,{className:"w-[100px]",children:"Version Name"}),e.jsx(m,{children:"Model Name"}),e.jsx(m,{children:"Version Year"}),e.jsx(m,{children:"Created At"}),e.jsx(m,{children:"Last Update"}),e.jsx(m,{className:"text-right",children:"Action"})]})}),e.jsx(k,{children:a.data.length>0?a.data.map(s=>e.jsxs(v,{children:[e.jsx(d,{className:"font-medium",children:s.version_name.toUpperCase()}),e.jsx(d,{children:s.car_model_name.toUpperCase()}),e.jsx(d,{children:s.version_year}),e.jsx(d,{children:b(s.created_at)}),e.jsx(d,{children:b(s.updated_at)}),e.jsx(d,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(R,{version:s,models:i}),e.jsx(j,{className:"ml-2",variant:"destructive",onClick:()=>o(s.id),children:"Delete"})]})})]},s.id)):e.jsx(v,{children:e.jsx(d,{colSpan:6,className:"text-center",children:"No car versions found."})})})]}),a.links&&a.links.length>3&&e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("nav",{className:"flex rounded-md shadow","aria-label":"Pagination",children:a.links.map((s,r)=>e.jsx("button",{onClick:()=>s.url&&_.get(s.url),disabled:!s.url,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium
                                            ${s.active?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"}
                                            ${r===0?"rounded-l-md":""}
                                            ${r===a.links.length-1?"rounded-r-md":""}
                                        `,dangerouslySetInnerHTML:{__html:s.label}},r))})})]})})]})}export{ie as default};
