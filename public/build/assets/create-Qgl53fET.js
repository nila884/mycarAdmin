import{r as N,m as le,j as e,L as te}from"./app-P_30Ywqc.js";import{L as d,I as r}from"./label-BF5kNt9L.js";import{B as ae}from"./app-logo-icon-D0-bOfxz.js";import{C as de}from"./checkbox-DGbheN4K.js";import{I as u}from"./input-DAF9M8uG.js";import{S as h,a as x,b as p,c as _,d as o}from"./select-D-h1gbiG.js";import{u as Y}from"./index-B3qh2vdp.js";import{A as ne}from"./app-layout-DuYsczsc.js";/* empty css            */import"./index-COjtLgPO.js";import"./check-Cy2qj5ij.js";const re=i=>{var v,y,b,f,S,C,j,F,c;return{car_model_id:((v=i==null?void 0:i.version.car_model.id)==null?void 0:v.toString())||"",car_brand_id:((y=i==null?void 0:i.version.car_model.brand.id)==null?void 0:y.toString())||"",version_id:((b=i==null?void 0:i.version.id)==null?void 0:b.toString())||"",category_id:((f=i==null?void 0:i.category.id)==null?void 0:f.toString())||"",fuel_type_id:((S=i==null?void 0:i.fuel_type.id)==null?void 0:S.toString())||"",seller_id:((C=i==null?void 0:i.seller.id)==null?void 0:C.toString())||"",origin_country_id:((j=i==null?void 0:i.origin_country.id)==null?void 0:j.toString())||"",interior_color_id:((F=i==null?void 0:i.interior_color)==null?void 0:F.id.toString())||"",exterior_color_id:((c=i==null?void 0:i.exterior_color)==null?void 0:c.id.toString())||"",mileage:(i==null?void 0:i.spect.mileage)||null,chassis_number:(i==null?void 0:i.spect.chassis_number)||"",registration_year:(i==null?void 0:i.spect.registration_year)||null,manufacture_year:(i==null?void 0:i.spect.manufacture_year)||null,status:(i==null?void 0:i.spect.status)||"",cost_price:(i==null?void 0:i.cost_price)||null,min_profit_margin:(i==null?void 0:i.min_profit_margin)||null,transmission:(i==null?void 0:i.spect.transmission)||"",car_selling_status:(i==null?void 0:i.car_selling_status)||"",steering:(i==null?void 0:i.spect.steering)||"",seating_capacity:(i==null?void 0:i.spect.seating_capacity)||null,engine_code:(i==null?void 0:i.spect.engine_code)||"",engine_size:(i==null?void 0:i.spect.engine_size)||null,model_code:(i==null?void 0:i.spect.model_code)||"",wheel_driver:(i==null?void 0:i.spect.wheel_driver)||"",m_3:(i==null?void 0:i.spect.m_3)||null,doors:(i==null?void 0:i.spect.doors)||null,location:(i==null?void 0:i.location)||"",weight:(i==null?void 0:i.spect.weight)||null,price:(i==null?void 0:i.price.price)||null,discount:(i==null?void 0:i.price.discount)||null,discount_type:(i==null?void 0:i.price.discount_type)||"",is_current_price:(i==null?void 0:i.price.is_current)||!1,publication_status:(i==null?void 0:i.publication_status)||"",image:null,images:[],existing_images:(i==null?void 0:i.images)||[],images_to_delete:[],features:(i==null?void 0:i.features)||[],dimensions:(i==null?void 0:i.spect.dimensions)||{length_mm:null,width_mm:null,height_mm:null}}},oe=({brands:i,carModels:v,categories:y,versions:b,features:f,fuelTypes:S,sellers:C,colors:j,countries:F,car:c})=>{var B,H,J;const[V,I]=N.useState(null),[P,E]=N.useState(""),[L,R]=N.useState([]),[M,D]=N.useState(""),[A,$]=N.useState([]),{data:l,setData:t,post:U,processing:n,errors:a,reset:O}=le(c?route("car.update",c.id):route("car.store"),re(c));N.useEffect(()=>{var s,m;c?(I(c.image_main.image_path||null),E(((s=c.version.car_model.brand.id)==null?void 0:s.toString())||""),D(((m=c.version.car_model.id)==null?void 0:m.toString())||"")):(I(null),E(""),D(""))},[c]),N.useEffect(()=>{R(P?v.filter(s=>s.brand_id.toString()===P):[]),!c&&l.car_model_id&&!v.some(s=>s.id.toString()===l.car_model_id&&s.brand_id.toString()===P)&&(t("car_model_id",""),D(""),t("version_id",""))},[P,v,l.car_model_id,t,c]),N.useEffect(()=>{$(M?b.filter(s=>s.car_model_id.toString()===M):[]),!c&&l.version_id&&!b.some(s=>s.id.toString()===l.version_id&&s.car_model_id.toString()===M)&&t("version_id","")},[M,b,l.version_id,t,c]);const q=s=>{s.preventDefault(),console.log(l),c?U(route("car.update",c.id),{onSuccess:()=>{alert("Car updated successfully!")},onFinish:()=>{},forceFormData:!0}):U(route("car.store"),{onSuccess:()=>{O(),I(null),E(""),D(""),alert("Car created successfully!")}})},K=s=>{if(s.length>0){const m=s[0],g=new FileReader;g.onload=()=>{I(g.result),t("image",m)},g.readAsDataURL(m)}else t("image",null),I(null)},Q=s=>{const m=["image/jpeg","image/png"],g=s.filter(w=>m.includes(w.type)&&!l.images.some(z=>z.name===w.name&&z.size===w.size));g.length>0&&t("images",[...l.images,...g])},X=s=>{if(s.type==="existing"&&s.id!==void 0&&s.id!==null){const m=Number(s.id);t(g=>{const w=g.existing_images.filter(ie=>Number(ie.id)!==m),z=[...g.images_to_delete,m];return{...g,images_to_delete:z,existing_images:w}})}else s.type==="new"&&s.file&&(URL.revokeObjectURL(s.src),t(m=>{const g=m.images.filter(w=>w!==s.file);return{...m,images:g}}))},{getRootProps:Z,getInputProps:T,isDragActive:W}=Y({onDrop:K,maxFiles:1,maxSize:1e6,accept:{"image/png":[],"image/jpg":[],"image/jpeg":[]}}),{getRootProps:ee,getInputProps:se,isDragActive:k}=Y({onDrop:Q,accept:{"image/jpeg":[],"image/png":[]},multiple:!0,maxFiles:6,maxSize:2*1024*1024}),G=[...(l.existing_images||[]).map(s=>({src:s.image_path??"",id:Number(s.id),type:"existing"})),...(l.images||[]).map(s=>({src:URL.createObjectURL(s),type:"new",file:s}))];return e.jsx("div",{className:"px- container mx-auto py-10",children:e.jsxs("form",{onSubmit:q,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"car_brand_id",children:"Brand"}),e.jsxs(h,{onValueChange:s=>{t("car_brand_id",s),E(s)},value:l.car_brand_id,children:[e.jsx(x,{id:"car_brand_id",disabled:n,children:e.jsx(p,{placeholder:"Select brand"})}),e.jsx(_,{children:i.length>0?i.map(s=>e.jsxs(o,{value:s.id.toString(),children:[" ",s.brand_name]},s.id.toString())):e.jsxs(o,{value:"placeholder",disabled:!0,children:[" ","No brands available"]})})]}),e.jsx(r,{message:a.car_brand_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"car_model_id",children:"Model"}),e.jsxs(h,{onValueChange:s=>{t("car_model_id",s),D(s)},value:l.car_model_id,disabled:n||!P||L.length===0,children:[e.jsx(x,{id:"car_model_id",children:e.jsx(p,{placeholder:"Select model"})}),e.jsx(_,{children:L.length>0?L.map(s=>e.jsxs(o,{value:s.id.toString(),children:[" ",s.model_name]},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No models available for selected brand"})})]}),e.jsx(r,{message:a.car_model_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"version_id",children:"Version"}),e.jsxs(h,{onValueChange:s=>{t("version_id",s)},value:l.version_id,disabled:n||!M||A.length===0,children:[e.jsx(x,{id:"version_id",children:e.jsx(p,{placeholder:"Select version"})}),e.jsx(_,{children:A.length>0?A.map(s=>e.jsxs(o,{value:s.id.toString(),children:[" ",s.version_name+" "+s.version_year]},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No versions available for selected model"})})]}),e.jsx(r,{message:a.version_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"category_id",children:"Category"}),e.jsxs(h,{onValueChange:s=>t("category_id",s),value:l.category_id,children:[e.jsx(x,{id:"category_id",disabled:n,children:e.jsx(p,{placeholder:"Select category"})}),e.jsx(_,{children:y.length>0?y.map(s=>e.jsx(o,{value:s.id.toString(),children:s.category_name},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No categories available"})})]}),e.jsx(r,{message:a.category_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"fuel_type_id",children:"Fuel Type"}),e.jsxs(h,{onValueChange:s=>t("fuel_type_id",s),value:l.fuel_type_id,children:[e.jsx(x,{id:"fuel_type_id",disabled:n,children:e.jsx(p,{placeholder:"Select fuel type"})}),e.jsx(_,{children:S.length>0?S.map(s=>e.jsx(o,{value:s.id.toString(),children:s.fuel_type},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No fuel types available"})})]}),e.jsx(r,{message:a.fuel_type_id,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"transmission",children:"Transmission"}),e.jsxs(h,{onValueChange:s=>t("transmission",s),value:l.transmission||"",children:[e.jsx(x,{id:"transmission",disabled:n,children:e.jsx(p,{placeholder:"Select transmission"})}),e.jsxs(_,{children:[e.jsx(o,{value:"automatic",children:"Automatic"}),e.jsx(o,{value:"manual",children:"Manual"})]})]}),e.jsx(r,{message:a.transmission,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"steering",children:"Steering"}),e.jsxs(h,{onValueChange:s=>t("steering",s),value:l.steering||"",children:[e.jsx(x,{id:"steering",disabled:n,children:e.jsx(p,{placeholder:"Select steering"})}),e.jsxs(_,{children:[e.jsx(o,{value:"right",children:"Right"}),e.jsx(o,{value:"left",children:"Left"})]})]}),e.jsx(r,{message:a.steering,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"status",children:"Status"}),e.jsxs(h,{onValueChange:s=>t("status",s),value:l.status||"",children:[e.jsx(x,{id:"status",disabled:n,children:e.jsx(p,{placeholder:"Select status"})}),e.jsxs(_,{children:[e.jsx(o,{value:"new",children:"New"}),e.jsx(o,{value:"used",children:"Used"})]})]}),e.jsx(r,{message:a.status,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"publication_status",children:"Publication Status"}),e.jsxs(h,{onValueChange:s=>t("publication_status",s),value:l.publication_status,children:[e.jsx(x,{id:"publication_status",disabled:n,children:e.jsx(p,{placeholder:"Select publication status"})}),e.jsxs(_,{children:[e.jsx(o,{value:"published",children:"Published"}),e.jsx(o,{value:"pending",children:"Pending"}),e.jsx(o,{value:"archived",children:"Archived"})]})]}),e.jsx(r,{message:a.publication_status,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"car_selling_status",children:"Car selling Status"}),e.jsxs(h,{onValueChange:s=>t("car_selling_status",s),value:l.car_selling_status,children:[e.jsx(x,{id:"car_selling_status",disabled:n,children:e.jsx(p,{placeholder:"Select selling status"})}),e.jsxs(_,{children:[e.jsx(o,{value:"selling",children:"Selling"}),e.jsx(o,{value:"sold",children:"Sold"}),e.jsx(o,{value:"reserved",children:"Reserved"})]})]}),e.jsx(r,{message:a.publication_status,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"interior_color_id",children:"Interior color"}),e.jsxs(h,{onValueChange:s=>t("interior_color_id",s),value:l.interior_color_id,children:[e.jsx(x,{id:"interior_color_id",disabled:n,children:e.jsx(p,{placeholder:"Select interior color"})}),e.jsx(_,{children:j.length>0?j.map(s=>e.jsx(o,{value:s.id.toString(),children:s.name},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No Colors available"})})]}),e.jsx(r,{message:a.interior_color_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"exterior_color_id",children:"Exterior color"}),e.jsxs(h,{onValueChange:s=>t("exterior_color_id",s),value:l.exterior_color_id,children:[e.jsx(x,{id:"exterior_color_id",disabled:n,children:e.jsx(p,{placeholder:"Select exterior color"})}),e.jsx(_,{children:j.length>0?j.map(s=>e.jsx(o,{value:s.id.toString(),children:s.name},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No Colors available"})})]}),e.jsx(r,{message:a.exterior_color_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"wheel_driver",children:"Wheel Drive"}),e.jsxs(h,{onValueChange:s=>t("wheel_driver",s),value:l.wheel_driver,children:[e.jsx(x,{id:"wheel_driver",disabled:n,children:e.jsx(p,{placeholder:"Select wheel drive"})}),e.jsxs(_,{children:[e.jsx(o,{value:"fwd",children:"FWD"}),e.jsx(o,{value:"rwd",children:"RWD"}),e.jsx(o,{value:"awd",children:"AWD"})]})]}),e.jsx(r,{message:a.wheel_driver,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"seller_id",children:"Seller"}),e.jsxs(h,{onValueChange:s=>t("seller_id",s),value:l.seller_id,children:[e.jsx(x,{id:"seller_id",disabled:n,children:e.jsx(p,{placeholder:"Select seller"})}),e.jsx(_,{children:C.length>0?C.map(s=>e.jsx(o,{value:s.id.toString(),children:s.seller_name},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No sellers available"})})]}),e.jsx(r,{message:a.seller_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"origin_country_id",children:"Origin country"}),e.jsxs(h,{onValueChange:s=>t("origin_country_id",s),value:l.origin_country_id,children:[e.jsx(x,{id:"origin_country_id",disabled:n,children:e.jsx(p,{placeholder:"Select origin country"})}),e.jsx(_,{children:F.length>0?F.map(s=>e.jsx(o,{value:s.id.toString(),children:s.country_name},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No countries available"})})]}),e.jsx(r,{message:a.origin_country_id,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"chassis_number",children:"Chassis Number"}),e.jsx(u,{id:"chassis_number",placeholder:"Chassis Number",type:"text",value:l.chassis_number,onChange:s=>t("chassis_number",s.target.value),disabled:n}),e.jsx(r,{message:a.chassis_number,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"engine_code",children:"Engine Code"}),e.jsx(u,{id:"engine_code",placeholder:"Engine Code",type:"text",value:l.engine_code||"",onChange:s=>t("engine_code",s.target.value),disabled:n}),e.jsx(r,{message:a.engine_code,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"model_code",children:"Model Code"}),e.jsx(u,{id:"model_code",placeholder:"Model Code",type:"text",value:l.model_code||"",onChange:s=>t("model_code",s.target.value),disabled:n}),e.jsx(r,{message:a.model_code,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"seating_capacity",children:"Seating Capacity"}),e.jsx(u,{id:"seating_capacity",placeholder:"Seating Capacity",type:"number",value:l.seating_capacity!==null?l.seating_capacity:"",onChange:s=>t("seating_capacity",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:a.seating_capacity,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsx("h4",{children:"Dimensions"}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"width_mm",children:"Width in mm"}),e.jsx(u,{id:"width_mm",placeholder:"Width in mm",type:"number",value:((B=l.dimensions)==null?void 0:B.width_mm)??"",onChange:s=>{const m=s.target.value===""?null:Number(s.target.value);t(g=>({...g,dimensions:{...g.dimensions||{length_mm:null,width_mm:null,height_mm:null},width_mm:m}}))},disabled:n}),e.jsx(r,{message:a["dimensions.width_mm"],className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"lenght_mm",children:"Lenght in mm"}),e.jsx(u,{id:"lenght_mm",placeholder:"Length in mm",type:"number",value:((H=l.dimensions)==null?void 0:H.length_mm)??"",onChange:s=>{const m=s.target.value===""?null:Number(s.target.value);t(g=>({...g,dimensions:{...g.dimensions||{length_mm:null,width_mm:null,height_mm:null},length_mm:m}}))},disabled:n}),e.jsx(r,{message:a["dimensions.lenght_mm"],className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"Height_mm",children:"Height in mm"}),e.jsx(u,{id:"Heigth_mm",placeholder:"Height in mm",type:"number",value:((J=l.dimensions)==null?void 0:J.height_mm)??"",onChange:s=>{const m=s.target.value===""?null:Number(s.target.value);t(g=>({...g,dimensions:{...g.dimensions||{length_mm:null,width_mm:null,height_mm:null},height_mm:m}}))},disabled:n}),e.jsx(r,{message:a["dimensions.height_mm"],className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"mileage",children:"Mileage"}),e.jsx(u,{id:"mileage",placeholder:"Mileage",type:"number",value:l.mileage!==null?l.mileage:"",onChange:s=>t("mileage",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:a.mileage,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"weight",children:"Weight"}),e.jsx(u,{id:"weight",placeholder:"Weight",type:"number",value:l.weight!==null?l.weight:"",onChange:s=>t("weight",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:a.weight,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"price",children:"Price ($)"}),e.jsx(u,{id:"price",placeholder:"Price",type:"number",value:l.price!==null?l.price:"",onChange:s=>t("price",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:a.price,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"cost_price",children:"Cost Price ($)"}),e.jsx(u,{id:"cost_price",type:"number",value:l.cost_price??"",onChange:s=>t("cost_price",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:a.cost_price,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"discount_type",children:"Discount Type"}),e.jsxs(h,{onValueChange:s=>t("discount_type",s),value:l.discount_type,children:[e.jsx(x,{id:"discount_type",disabled:n,children:e.jsx(p,{placeholder:"Select type"})}),e.jsxs(_,{children:[e.jsx(o,{value:"amount",children:"Fixed Amount ($)"}),e.jsx(o,{value:"percent",children:"Percentage (%)"})]})]}),e.jsx(r,{message:a.discount_type,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(d,{htmlFor:"discount",children:["Discount ",l.discount_type==="percent"?"(%)":"($)"]}),e.jsx(u,{id:"discount",placeholder:l.discount_type?"Enter value":"Select type first",type:"number",value:l.discount??"",onChange:s=>t("discount",s.target.value===""?null:Number(s.target.value)),disabled:n||!l.discount_type}),e.jsx(r,{message:a.discount,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"min_profit_margin",children:"Min Profit ($)"}),e.jsx(u,{id:"min_profit_margin",type:"number",value:l.min_profit_margin??"",onChange:s=>t("min_profit_margin",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:a.min_profit_margin,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"registration_year",children:"Registration Year"}),e.jsx(u,{id:"registration_year",placeholder:"Registration Year",type:"number",value:l.registration_year!==null?l.registration_year:"",onChange:s=>t("registration_year",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:a.registration_year,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"manufacture_year",children:"Manufacture Year"}),e.jsx(u,{id:"manufacture_year",placeholder:"Manufacture Year",type:"number",value:l.manufacture_year!==null?l.manufacture_year:"",onChange:s=>t("manufacture_year",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:a.manufacture_year,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"m_3",children:"M^3"}),e.jsx(u,{id:"m_3",placeholder:"M^3",type:"number",value:l.m_3!==null?l.m_3:"",onChange:s=>t("m_3",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:a.m_3,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"doors",children:"Doors"}),e.jsx(u,{id:"doors",placeholder:"Doors",type:"number",value:l.doors!==null?l.doors:"",onChange:s=>t("doors",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:a.doors,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"location",children:"Location"}),e.jsx(u,{id:"location",placeholder:"Location",type:"text",value:l.location||"",onChange:s=>t("location",s.target.value),disabled:n}),e.jsx(r,{message:a.location,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"engine_size",children:"Engine size"}),e.jsx(u,{id:"engine_size",placeholder:"Engine size",type:"number",value:l.engine_size!==null?l.engine_size:"",onChange:s=>t("engine_size",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:a.engine_size,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{className:"text-base",children:"Car options"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Select car options."})]}),e.jsx("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:f.length>0?f.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{id:s.id.toString(),checked:l.features.some(m=>m.id===s.id),disabled:n,onCheckedChange:m=>{m?t("features",[...l.features,s]):t("features",l.features.filter(g=>g.id!==s.id))}}),e.jsx(d,{htmlFor:s.feature_name,className:"cursor-pointer text-sm font-normal",children:s.feature_name.replace(/_/g," ").replace(/\b\w/g,m=>m.toUpperCase())})]},s.id)):e.jsx("p",{className:"text-muted-foreground text-sm",children:"No features available."})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"image",children:"Main Car Image"}),e.jsxs("div",{...Z(),className:`flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 ${W?"border-primary":"border-gray-300"} ${a.image?"border-destructive":""} `,children:[e.jsx("input",{id:"image",...T()}),e.jsx("p",{children:W?"Drop the image here...":"Drag & drop main image or click to select"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"(PNG, JPG, JPEG up to 1MB)"})]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload a single JPEG/PNG image for the main car image."}),e.jsx(r,{message:a.image,className:"mt-2"}),V&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:V,alt:"Main Image Preview",className:"h-40 w-auto rounded object-contain shadow"})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"images",children:"Additional Car Images"}),e.jsxs("div",{...ee(),className:`flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 ${k?"border-primary":"border-gray-300"} ${a.images?"border-destructive":""} `,children:[e.jsx("input",{id:"images",...se()}),e.jsx("p",{children:k?"Drop images here...":"Drag & drop images or click to select (max 6)"})]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload JPEG/PNG images only. Max 6 images."}),e.jsx(r,{message:a.images,className:"mt-2"}),G.length>0&&e.jsx("div",{className:"mt-2 grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4",children:G.map(s=>e.jsxs("div",{className:"group relative",children:[e.jsx("img",{src:s.src,alt:"Preview",className:"h-40 w-full rounded object-cover shadow"}),e.jsx("button",{type:"button",onClick:()=>X(s),className:"absolute top-1 right-1 rounded bg-red-600 px-2 py-1 text-xs text-white opacity-80 hover:opacity-100",children:"Remove"})]},s.id))})]}),e.jsx(ae,{type:"submit",disabled:n,className:"w-fit",children:n?"Submitting...":"Submit"})]})})};function Ne({car:i,brands:v,carModels:y,categories:b,fuelTypes:f,versions:S,sellers:C,features:j,colors:F,countries:c}){const V=[{title:i?`Edit Car: ${i.version.car_model.brand.brand_name} ${i.version.car_model.model_name}`:"Add New Car",href:i?route("car.edit",i.id):route("car.create")}];return e.jsxs(ne,{breadcrumbs:V,children:[e.jsx(te,{title:i?"Edit Car Form":"Add New Car Form"}),e.jsx(oe,{car:i,brands:v,carModels:y,categories:b,fuelTypes:f,versions:S,sellers:C,features:j,colors:F,countries:c})]})}export{Ne as default};
