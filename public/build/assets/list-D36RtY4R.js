import{m as G,j as e,L as z,S as E}from"./app-CpzzJYWB.js";import{a as A,B as v}from"./app-logo-icon-BRdzGFKU.js";import{D as F,a as O,b as U,c as J,d as K}from"./dialog-IAiCvfs0.js";import{I as D}from"./input-BqO5v9Q5.js";import{L as c,I as T}from"./label-DIWS4fZ0.js";import{S as p,a as j,b as u,c as g,d as _}from"./select-BZy5j78d.js";import{B as f}from"./badge-2Lpb15S6.js";import{P as Q}from"./pencil-Dr_zyYdK.js";import{P as W}from"./plus-DSd0Nke9.js";import{A as X}from"./anchor-C32Eon4F.js";import{T as Y,a as Z,b as N,c as l,d as ee,e as n}from"./table-m-fRdkLB.js";import{A as se}from"./app-layout-0mdJdW3J.js";import{L as ie}from"./layout-o5QJUSRM.js";import{T as re}from"./truck-C9O4RxGQ.js";import{T as te}from"./trash-2-CY27rHqF.js";/* empty css            */import"./index-BI1Ru79l.js";import"./check-DBe1amUb.js";import"./heading-aKTEqoiW.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ne=A("ArrowRight",oe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],L=A("Ship",ae),k=({rate:i,countries:a,ports:d})=>{var S,w,C,R;const o=!!i,{data:r,setData:t,post:m,patch:x,processing:M,errors:b,reset:V}=G({transport_mode:(i==null?void 0:i.transport_mode)||"sea",from_country_id:((S=i==null?void 0:i.from_country)==null?void 0:S.id.toString())||"",from_port_id:((w=i==null?void 0:i.from_port)==null?void 0:w.id.toString())||"",to_country_id:((C=i==null?void 0:i.to_country)==null?void 0:C.id.toString())||"",to_port_id:((R=i==null?void 0:i.to_port)==null?void 0:R.id.toString())||"",price_roro:(i==null?void 0:i.price_roro)||"",price_container:(i==null?void 0:i.price_container)||"",is_current:(i==null?void 0:i.is_current)??!0}),q=d.filter(s=>s.country_id.toString()===r.from_country_id),y=a.find(s=>s.id.toString()===r.to_country_id),I=d.filter(s=>{var P;const h=s.country_id.toString()===r.to_country_id,H=(P=y==null?void 0:y.gateway_ports)==null?void 0:P.some($=>$.id===s.id);return h||H}),B=s=>{s.preventDefault(),o?x(route("shipping-rates.update",i.id)):m(route("shipping-rates.store"),{onSuccess:()=>V()})};return e.jsxs(F,{children:[e.jsx(O,{asChild:!0,children:e.jsx(v,{variant:o?"ghost":"default",size:o?"icon":"sm",children:o?e.jsx(Q,{className:"h-4 w-4"}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"mr-2 h-4 w-4"})," Add Rate"]})})}),e.jsxs(U,{className:"sm:max-w-[550px]",children:[e.jsx(J,{children:e.jsx(K,{children:o?"Edit Shipping Route":"Add New Shipping Route"})}),e.jsxs("form",{onSubmit:B,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 rounded-sm bg-gray-50 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold tracking-wider uppercase",children:[e.jsx(X,{className:"h-4 w-4"})," Departure (Origin)"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Origin Country"}),e.jsxs(p,{value:r.from_country_id,onValueChange:s=>{t(h=>({...h,from_country_id:s,from_port_id:""}))},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select Country"})}),e.jsx(g,{children:a.map(s=>e.jsx(_,{value:s.id.toString(),children:s.country_name},s.id))})]}),e.jsx(T,{message:b.from_country_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Departure Port"}),e.jsxs(p,{value:r.from_port_id,onValueChange:s=>t("from_port_id",s),disabled:!r.from_country_id,children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select Port"})}),e.jsx(g,{children:q.map(s=>e.jsx(_,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx(T,{message:b.from_port_id})]})]})]}),e.jsxs("div",{className:"space-y-4 rounded-sm bg-gray-50 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold tracking-wider uppercase",children:[e.jsx(L,{className:"h-4 w-4"})," Arrival (Destination)"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Dest. Country"}),e.jsxs(p,{value:r.to_country_id,onValueChange:s=>{t(h=>({...h,to_country_id:s,to_port_id:""}))},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select Country"})}),e.jsx(g,{children:a.map(s=>e.jsx(_,{value:s.id.toString(),children:s.country_name},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Arrival Port/Gateway"}),e.jsxs(p,{value:r.to_port_id,onValueChange:s=>t("to_port_id",s),disabled:!r.to_country_id,children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select Port"})}),e.jsx(g,{children:I.map(s=>e.jsx(_,{value:s.id.toString(),children:e.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[e.jsx("span",{children:s.name}),s.country_id.toString()!==r.to_country_id&&e.jsx(f,{variant:"outline",className:"bg-white text-[9px]",children:"Gateway"})]})},s.id))})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"RoRo Price ($)"}),e.jsx(D,{type:"number",value:r.price_roro,onChange:s=>t("price_roro",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Container ($)"}),e.jsx(D,{type:"number",value:r.price_container,onChange:s=>t("price_container",s.target.value)})]})]}),e.jsx(v,{type:"submit",className:"w-full",disabled:M,children:"Save Shipping Route"})]})]})]})};function Re({shipping_rates:i,countries:a,ports:d}){const o=r=>{confirm("Delete this shipping route?")&&E.delete(route("shipping-rates.destroy",r))};return e.jsxs(se,{children:[e.jsx(z,{title:"Ocean Freight Rates"}),e.jsxs(ie,{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Shipping Rates"}),e.jsx("p",{className:"text-muted-foreground",children:"Define ocean freight costs from global origins to entry ports."})]}),e.jsx(k,{countries:a,ports:d})]}),e.jsx("div",{className:"overflow-hidden rounded-md border bg-white",children:e.jsxs(Y,{children:[e.jsx(Z,{className:"bg-slate-50",children:e.jsxs(N,{children:[e.jsx(l,{children:"Route Path"}),e.jsx(l,{children:"Mode"}),e.jsx(l,{children:"RoRo Price"}),e.jsx(l,{children:"Container Price"}),e.jsx(l,{children:"Status"}),e.jsx(l,{className:"text-right",children:"Actions"})]})}),e.jsx(ee,{children:i.length>0?i.map(r=>{var t,m,x;return e.jsxs(N,{className:"hover:bg-slate-50/50",children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:(t=r.from_country)==null?void 0:t.country_name}),e.jsx(ne,{className:"h-3 w-3 text-slate-400"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-blue-600",children:((m=r.to_port)==null?void 0:m.name)||((x=r.to_country)==null?void 0:x.country_name)}),e.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Gateway"})]})]})}),e.jsx(n,{children:e.jsxs(f,{variant:"outline",className:"gap-1 font-normal",children:[r.transport_mode==="sea"?e.jsx(L,{className:"h-3 w-3"}):e.jsx(re,{className:"h-3 w-3"}),r.transport_mode.toUpperCase()]})}),e.jsxs(n,{className:"font-mono font-bold text-slate-700",children:["$",r.price_roro]}),e.jsxs(n,{className:"font-mono font-bold text-slate-700",children:["$",r.price_container]}),e.jsx(n,{children:r.is_current?e.jsx(f,{className:"bg-green-600 hover:bg-green-600",children:"Active"}):e.jsx(f,{variant:"secondary",children:"History"})}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx(k,{rate:r,countries:a,ports:d}),e.jsx(v,{variant:"ghost",size:"icon",className:"text-slate-400 hover:text-red-600",onClick:()=>o(r.id),children:e.jsx(te,{className:"h-4 w-4"})})]})})]},r.id)}):e.jsx(N,{children:e.jsx(n,{colSpan:6,className:"h-32 text-center text-slate-500",children:"No shipping rates found. Configure your first route to start calculations."})})})]})})]})]})}export{Re as default};
