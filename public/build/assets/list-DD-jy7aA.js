import{r as w,m as C,j as e,L as T,S as A}from"./app-D9b7yil5.js";import{T as S,a as D,b as p,c as o,d as L,e as n}from"./table-DsQtr8xT.js";import{B as z}from"./badge-B_-_Rt-_.js";import{a as P,B as x}from"./app-logo-icon-BTR4zcqo.js";import{A as B}from"./app-layout-lUKL1h8K.js";import{L as R}from"./layout-DHpDXm84.js";import{I as d}from"./input-B72JrJ1W.js";import{L as m}from"./label-BjwQr2PU.js";import{D as k,a as I,b as E,c as F,d as H}from"./dialog-D1i5YGBp.js";import{I as j}from"./input-error-s3OvvhyU.js";import{P as U}from"./pencil-CpbSHt1Z.js";import{P as M,T as O}from"./trash-2-D5D9zQ_C.js";import{B as f}from"./building-2-CCpacj7E.js";import{S as q}from"./shield-check-xgT34Jw-.js";import{T as G}from"./truck-B7wlz0Cp.js";/* empty css            */import"./index-CFDuspEi.js";import"./check-BcQx4ZQH.js";import"./heading-DtOTHioi.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],K=P("Phone",J),u=({agency:s})=>{const i=!!s,[a,c]=w.useState(!1),{data:t,setData:l,post:N,put:v,processing:b,errors:h,reset:g}=C({name:(s==null?void 0:s.name)||"",business_registration_number:(s==null?void 0:s.business_registration_number)||"",tax_identification_number:(s==null?void 0:s.tax_identification_number)||"",contact_person:(s==null?void 0:s.person)||"",phone:(s==null?void 0:s.phone)||"",email:(s==null?void 0:s.email)||"",address:(s==null?void 0:s.address)||"",fleet_size:(s==null?void 0:s.fleet_size)||0}),_=r=>{r.preventDefault(),i?v(route("delivery-driver-agency.update",(s==null?void 0:s.id)??void 0),{onSuccess:()=>c(!1)}):N(route("delivery-driver-agency.store"),{onSuccess:()=>{c(!1),g()}})};return e.jsxs(k,{open:a,onOpenChange:c,children:[e.jsx(I,{asChild:!0,children:e.jsx(x,{variant:i?"ghost":"default",size:i?"icon":"sm",className:"gap-2",children:i?e.jsx(U,{className:"w-4 h-4"}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4"})," Register Agency"]})})}),e.jsxs(E,{className:"sm:max-w-[500px]",children:[e.jsx(F,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5"}),i?"Update Agency Details":"Register New Delivery Agency"]})}),e.jsxs("form",{onSubmit:_,className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(m,{children:"Company Name"}),e.jsx(d,{value:t.name,onChange:r=>l("name",r.target.value),placeholder:"Legal entity name"}),e.jsx(j,{message:h.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(m,{className:"flex items-center gap-1",children:[e.jsx(q,{className:"w-3 h-3"})," Registration №"]}),e.jsx(d,{value:t.business_registration_number,onChange:r=>l("business_registration_number",r.target.value)}),e.jsx(j,{message:h.business_registration_number})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Fleet Size (Trucks)"}),e.jsx(d,{type:"number",value:t.fleet_size,onChange:r=>l("fleet_size",r.target.value)})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-sm space-y-3",children:[e.jsxs(m,{className:"text-xs font-bold uppercase  flex items-center gap-2",children:[e.jsx(K,{className:"w-3 h-3"})," Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(d,{placeholder:"Contact Person",value:t.contact_person,onChange:r=>l("contact_person",r.target.value),className:"bg-white"}),e.jsx(d,{placeholder:"Phone Number",value:t.phone,onChange:r=>l("phone",r.target.value),className:"bg-white"})]}),e.jsx(d,{placeholder:"Email Address",value:t.email,onChange:r=>l("email",r.target.value),className:"bg-white"})]}),e.jsx(x,{type:"submit",className:"w-full",disabled:b,children:i?"Save Changes":"Confirm Registration"})]})]})]})};function ce({agencies:s}){const i=a=>{confirm("Are you sure you want to remove this agency? This may affect linked tariffs.")&&A.delete(route("delivery-driver-agencies.destroy",a))};return e.jsxs(B,{children:[e.jsx(T,{title:"Country Settings"}),e.jsx(R,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold ",children:"Professional Agencies"}),e.jsx("p",{className:"text-gray-500",children:"Manage external logistics partners and their fleet capacity."})]}),e.jsx(u,{})]}),e.jsx("div",{className:"bg-white border border-gray-100 rounded-sm overflow-hidden",children:e.jsxs(S,{children:[e.jsx(D,{className:"bg-slate-50",children:e.jsxs(p,{children:[e.jsx(o,{children:"Agency Name"}),e.jsx(o,{children:"Registration №"}),e.jsx(o,{children:"Fleet Size"}),e.jsx(o,{children:"Person"}),e.jsx(o,{children:"Contact"}),e.jsx(o,{className:"text-right",children:"Actions"})]})}),e.jsx(L,{children:s.map(a=>e.jsxs(p,{children:[e.jsx(n,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:e.jsx(f,{className:"w-4 h-4 text-emerald-600"})}),a.name]})}),e.jsx(n,{children:e.jsx("code",{className:"text-xs p-1 rounded",children:a.business_registration_number})}),e.jsx(n,{children:e.jsxs(z,{variant:"outline",className:"gap-1",children:[e.jsx(G,{className:"w-3 h-3"})," ",a.fleet_size," Units"]})}),e.jsx(n,{children:e.jsx("div",{className:"text-sm",children:e.jsx("div",{className:"font-medium",children:a.person})})}),e.jsx(n,{children:e.jsxs("code",{className:"text-xs p-1 rounded",children:[e.jsx("div",{className:"text-xs text-gray-400",children:a.phone}),e.jsx("div",{className:"text-xs text-gray-400",children:a.email})]})}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(u,{agency:a}),e.jsx(x,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>i(a.id),children:e.jsx(O,{className:"w-4 h-4"})})]})})]},a.id))})]})})]})})]})}export{ce as default};
