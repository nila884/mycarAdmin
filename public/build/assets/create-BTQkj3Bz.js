import{r as N,m as ie,j as e,L as le}from"./app-D9b7yil5.js";import{A as ae}from"./app-layout-lUKL1h8K.js";import{B as te}from"./app-logo-icon-BTR4zcqo.js";import{I as u}from"./input-B72JrJ1W.js";import{S as h,a as x,b as p,c as j,d as o}from"./select-p1MIQY3c.js";import{C as de}from"./checkbox-Dsx9yR5o.js";import{u as J}from"./index-P_IZpjLU.js";import{L as d}from"./label-BjwQr2PU.js";import{I as r}from"./input-error-s3OvvhyU.js";import{S as ne}from"./switch-DV93D815.js";/* empty css            */import"./index-CFDuspEi.js";import"./check-BcQx4ZQH.js";const re=i=>{var v,f,b,y,S,C,_,c;return{car_model_id:((v=i==null?void 0:i.version.car_model.id)==null?void 0:v.toString())||"",car_brand_id:((f=i==null?void 0:i.version.car_model.brand.id)==null?void 0:f.toString())||"",version_id:((b=i==null?void 0:i.version.id)==null?void 0:b.toString())||"",category_id:((y=i==null?void 0:i.category.id)==null?void 0:y.toString())||"",fuel_type_id:((S=i==null?void 0:i.fuel_type.id)==null?void 0:S.toString())||"",seller_id:((C=i==null?void 0:i.seller.id)==null?void 0:C.toString())||"",interior_color_id:((_=i==null?void 0:i.interior_color)==null?void 0:_.id.toString())||"",exterior_color_id:((c=i==null?void 0:i.exterior_color)==null?void 0:c.id.toString())||"",mileage:(i==null?void 0:i.spect.mileage)||null,chassis_number:(i==null?void 0:i.spect.chassis_number)||"",registration_year:(i==null?void 0:i.spect.registration_year)||null,manufacture_year:(i==null?void 0:i.spect.manufacture_year)||null,status:(i==null?void 0:i.spect.status)||!1,transmission:(i==null?void 0:i.spect.transmission)||"",car_selling_status:(i==null?void 0:i.car_selling_status)||"",steering:(i==null?void 0:i.spect.steering)||"",seating_capacity:(i==null?void 0:i.spect.seating_capacity)||null,engine_code:(i==null?void 0:i.spect.engine_code)||"",engine_size:(i==null?void 0:i.spect.engine_size)||null,model_code:(i==null?void 0:i.spect.model_code)||"",wheel_driver:(i==null?void 0:i.spect.wheel_driver)||"",m_3:(i==null?void 0:i.spect.m_3)||null,doors:(i==null?void 0:i.spect.doors)||null,location:(i==null?void 0:i.location)||"",weight:(i==null?void 0:i.spect.weight)||null,price:(i==null?void 0:i.price.price)||null,discount:(i==null?void 0:i.price.discount)||null,discount_type:(i==null?void 0:i.price.discount_type)||"",is_current_price:(i==null?void 0:i.price.is_current)||!1,publication_status:(i==null?void 0:i.publication_status)||"",image:null,images:[],existing_images:(i==null?void 0:i.images)||[],images_to_delete:[],features:(i==null?void 0:i.features)||[],dimensions:(i==null?void 0:i.spect.dimensions)||{length_mm:null,width_mm:null,height_mm:null}}},oe=({brands:i,carModels:v,categories:f,versions:b,features:y,fuelTypes:S,sellers:C,colors:_,car:c})=>{var $,B,H;const[D,F]=N.useState(null),[I,E]=N.useState(""),[z,A]=N.useState([]),[M,P]=N.useState(""),[L,R]=N.useState([]),{data:l,setData:a,post:k,processing:n,errors:t,reset:Y}=ie(c?route("car.update",c.id):route("car.store"),re(c));N.useEffect(()=>{var s,m;c?(F(c.image_main.image_path||null),E(((s=c.version.car_model.brand.id)==null?void 0:s.toString())||""),P(((m=c.version.car_model.id)==null?void 0:m.toString())||"")):(F(null),E(""),P(""))},[c]),N.useEffect(()=>{A(I?v.filter(s=>s.brand_id.toString()===I):[]),!c&&l.car_model_id&&!v.some(s=>s.id.toString()===l.car_model_id&&s.brand_id.toString()===I)&&(a("car_model_id",""),P(""),a("version_id",""))},[I,v,l.car_model_id,a,c]),N.useEffect(()=>{R(M?b.filter(s=>s.car_model_id.toString()===M):[]),!c&&l.version_id&&!b.some(s=>s.id.toString()===l.version_id&&s.car_model_id.toString()===M)&&a("version_id","")},[M,b,l.version_id,a,c]);const O=s=>{s.preventDefault(),console.log(l),c?k(route("car.update",c.id),{onSuccess:()=>{alert("Car updated successfully!")},onError:m=>{},onFinish:()=>{},forceFormData:!0}):k(route("car.store"),{onSuccess:()=>{Y(),F(null),E(""),P(""),alert("Car created successfully!")},onError:m=>{}})},q=s=>{if(s.length>0){const m=s[0],g=new FileReader;g.onload=()=>{F(g.result),a("image",m)},g.readAsDataURL(m)}else a("image",null),F(null)},K=s=>{const m=["image/jpeg","image/png"],g=s.filter(w=>m.includes(w.type)&&!l.images.some(V=>V.name===w.name&&V.size===w.size));g.length>0&&a("images",[...l.images,...g])},Q=s=>{if(s.type==="existing"&&s.id!==void 0&&s.id!==null){const m=Number(s.id);a(g=>{const w=g.existing_images.filter(se=>Number(se.id)!==m),V=[...g.images_to_delete,m];return{...g,images_to_delete:V,existing_images:w}})}else s.type==="new"&&s.file&&(URL.revokeObjectURL(s.src),a(m=>{const g=m.images.filter(w=>w!==s.file);return{...m,images:g}}))},{getRootProps:X,getInputProps:Z,isDragActive:U}=J({onDrop:q,maxFiles:1,maxSize:1e6,accept:{"image/png":[],"image/jpg":[],"image/jpeg":[]}}),{getRootProps:T,getInputProps:ee,isDragActive:W}=J({onDrop:K,accept:{"image/jpeg":[],"image/png":[]},multiple:!0,maxFiles:6,maxSize:2*1024*1024}),G=[...(l.existing_images||[]).map(s=>({src:s.image_path??"",id:Number(s.id),type:"existing"})),...(l.images||[]).map(s=>({src:URL.createObjectURL(s),type:"new",file:s}))];return e.jsx("div",{className:"container mx-auto py-10 px-",children:e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"car_brand_id",children:"Brand"}),e.jsxs(h,{onValueChange:s=>{a("car_brand_id",s),E(s)},value:l.car_brand_id,children:[e.jsx(x,{id:"car_brand_id",disabled:n,children:e.jsx(p,{placeholder:"Select brand"})}),e.jsx(j,{children:i.length>0?i.map(s=>e.jsxs(o,{value:s.id.toString(),children:[" ",s.brand_name]},s.id.toString())):e.jsxs(o,{value:"placeholder",disabled:!0,children:[" ","No brands available"]})})]}),e.jsx(r,{message:t.car_brand_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"car_model_id",children:"Model"}),e.jsxs(h,{onValueChange:s=>{a("car_model_id",s),P(s)},value:l.car_model_id,disabled:n||!I||z.length===0,children:[e.jsx(x,{id:"car_model_id",children:e.jsx(p,{placeholder:"Select model"})}),e.jsx(j,{children:z.length>0?z.map(s=>e.jsxs(o,{value:s.id.toString(),children:[" ",s.model_name]},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No models available for selected brand"})})]}),e.jsx(r,{message:t.car_model_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"version_id",children:"Version"}),e.jsxs(h,{onValueChange:s=>{a("version_id",s)},value:l.version_id,disabled:n||!M||L.length===0,children:[e.jsx(x,{id:"version_id",children:e.jsx(p,{placeholder:"Select version"})}),e.jsx(j,{children:L.length>0?L.map(s=>e.jsxs(o,{value:s.id.toString(),children:[" ",s.version_name+" "+s.version_year]},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No versions available for selected model"})})]}),e.jsx(r,{message:t.version_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"category_id",children:"Category"}),e.jsxs(h,{onValueChange:s=>a("category_id",s),value:l.category_id,children:[e.jsx(x,{id:"category_id",disabled:n,children:e.jsx(p,{placeholder:"Select category"})}),e.jsx(j,{children:f.length>0?f.map(s=>e.jsx(o,{value:s.id.toString(),children:s.category_name},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No categories available"})})]}),e.jsx(r,{message:t.category_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"fuel_type_id",children:"Fuel Type"}),e.jsxs(h,{onValueChange:s=>a("fuel_type_id",s),value:l.fuel_type_id,children:[e.jsx(x,{id:"fuel_type_id",disabled:n,children:e.jsx(p,{placeholder:"Select fuel type"})}),e.jsx(j,{children:S.length>0?S.map(s=>e.jsx(o,{value:s.id.toString(),children:s.fuel_type},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No fuel types available"})})]}),e.jsx(r,{message:t.fuel_type_id,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"transmission",children:"Transmission"}),e.jsxs(h,{onValueChange:s=>a("transmission",s),value:l.transmission||"",children:[e.jsx(x,{id:"transmission",disabled:n,children:e.jsx(p,{placeholder:"Select transmission"})}),e.jsxs(j,{children:[e.jsx(o,{value:"automatic",children:"Automatic"}),e.jsx(o,{value:"manual",children:"Manual"})]})]}),e.jsx(r,{message:t.transmission,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"steering",children:"Steering"}),e.jsxs(h,{onValueChange:s=>a("steering",s),value:l.steering||"",children:[e.jsx(x,{id:"steering",disabled:n,children:e.jsx(p,{placeholder:"Select steering"})}),e.jsxs(j,{children:[e.jsx(o,{value:"right",children:"Right"}),e.jsx(o,{value:"left",children:"Left"})]})]}),e.jsx(r,{message:t.steering,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"status",children:"Status"}),e.jsxs(h,{onValueChange:s=>a("status",s==="new"),value:l.status===!0?"new":l.status===!1?"used":"",children:[e.jsx(x,{id:"status",disabled:n,children:e.jsx(p,{placeholder:"Select status"})}),e.jsxs(j,{children:[e.jsx(o,{value:"new",children:"New"}),e.jsx(o,{value:"used",children:"Used"})]})]}),e.jsx(r,{message:t.status,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"publication_status",children:"Publication Status"}),e.jsxs(h,{onValueChange:s=>a("publication_status",s),value:l.publication_status,children:[e.jsx(x,{id:"publication_status",disabled:n,children:e.jsx(p,{placeholder:"Select publication status"})}),e.jsxs(j,{children:[e.jsx(o,{value:"published",children:"Published"}),e.jsx(o,{value:"pending",children:"Pending"}),e.jsx(o,{value:"archived",children:"Archived"})]})]}),e.jsx(r,{message:t.publication_status,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"car_selling_status",children:"Car selling Status"}),e.jsxs(h,{onValueChange:s=>a("car_selling_status",s),value:l.car_selling_status,children:[e.jsx(x,{id:"car_selling_status",disabled:n,children:e.jsx(p,{placeholder:"Select selling status"})}),e.jsxs(j,{children:[e.jsx(o,{value:"selling",children:"Selling"}),e.jsx(o,{value:"sold",children:"Sold"}),e.jsx(o,{value:"reserved",children:"Reserved"})]})]}),e.jsx(r,{message:t.publication_status,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"interior_color_id",children:"Interior color"}),e.jsxs(h,{onValueChange:s=>a("interior_color_id",s),value:l.interior_color_id,children:[e.jsx(x,{id:"interior_color_id",disabled:n,children:e.jsx(p,{placeholder:"Select interior color"})}),e.jsx(j,{children:_.length>0?_.map(s=>e.jsx(o,{value:s.id.toString(),children:s.name},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No Colors available"})})]}),e.jsx(r,{message:t.interior_color_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"exterior_color_id",children:"Exterior color"}),e.jsxs(h,{onValueChange:s=>a("exterior_color_id",s),value:l.exterior_color_id,children:[e.jsx(x,{id:"exterior_color_id",disabled:n,children:e.jsx(p,{placeholder:"Select exterior color"})}),e.jsx(j,{children:_.length>0?_.map(s=>e.jsx(o,{value:s.id.toString(),children:s.name},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No Colors available"})})]}),e.jsx(r,{message:t.exterior_color_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"wheel_driver",children:"Wheel Drive"}),e.jsxs(h,{onValueChange:s=>a("wheel_driver",s),value:l.wheel_driver,children:[e.jsx(x,{id:"wheel_driver",disabled:n,children:e.jsx(p,{placeholder:"Select wheel drive"})}),e.jsxs(j,{children:[e.jsx(o,{value:"fwd",children:"FWD"}),e.jsx(o,{value:"rwd",children:"RWD"}),e.jsx(o,{value:"awd",children:"AWD"})]})]}),e.jsx(r,{message:t.wheel_driver,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"seller_id",children:"Seller"}),e.jsxs(h,{onValueChange:s=>a("seller_id",s),value:l.seller_id,children:[e.jsx(x,{id:"seller_id",disabled:n,children:e.jsx(p,{placeholder:"Select seller"})}),e.jsx(j,{children:C.length>0?C.map(s=>e.jsx(o,{value:s.id.toString(),children:s.seller_name},s.id.toString())):e.jsx(o,{value:"placeholder",disabled:!0,children:"No sellers available"})})]}),e.jsx(r,{message:t.seller_id,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"chassis_number",children:"Chassis Number"}),e.jsx(u,{id:"chassis_number",placeholder:"Chassis Number",type:"text",value:l.chassis_number,onChange:s=>a("chassis_number",s.target.value),disabled:n}),e.jsx(r,{message:t.chassis_number,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"engine_code",children:"Engine Code"}),e.jsx(u,{id:"engine_code",placeholder:"Engine Code",type:"text",value:l.engine_code||"",onChange:s=>a("engine_code",s.target.value),disabled:n}),e.jsx(r,{message:t.engine_code,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"model_code",children:"Model Code"}),e.jsx(u,{id:"model_code",placeholder:"Model Code",type:"text",value:l.model_code||"",onChange:s=>a("model_code",s.target.value),disabled:n}),e.jsx(r,{message:t.model_code,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"seating_capacity",children:"Seating Capacity"}),e.jsx(u,{id:"seating_capacity",placeholder:"Seating Capacity",type:"number",value:l.seating_capacity!==null?l.seating_capacity:"",onChange:s=>a("seating_capacity",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:t.seating_capacity,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsx("h4",{children:"Dimensions"}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"width_mm",children:"Width in mm"}),e.jsx(u,{id:"width_mm",placeholder:"Width in mm",type:"number",value:(($=l.dimensions)==null?void 0:$.width_mm)??"",onChange:s=>{const m=s.target.value===""?null:Number(s.target.value);a(g=>({...g,dimensions:{...g.dimensions||{length_mm:null,width_mm:null,height_mm:null},width_mm:m}}))},disabled:n}),e.jsx(r,{message:t["dimensions.width_mm"],className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"lenght_mm",children:"Lenght in mm"}),e.jsx(u,{id:"lenght_mm",placeholder:"Length in mm",type:"number",value:((B=l.dimensions)==null?void 0:B.length_mm)??"",onChange:s=>{const m=s.target.value===""?null:Number(s.target.value);a(g=>({...g,dimensions:{...g.dimensions||{length_mm:null,width_mm:null,height_mm:null},length_mm:m}}))},disabled:n}),e.jsx(r,{message:t["dimensions.lenght_mm"],className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"Height_mm",children:"Height in mm"}),e.jsx(u,{id:"Heigth_mm",placeholder:"Height in mm",type:"number",value:((H=l.dimensions)==null?void 0:H.height_mm)??"",onChange:s=>{const m=s.target.value===""?null:Number(s.target.value);a(g=>({...g,dimensions:{...g.dimensions||{length_mm:null,width_mm:null,height_mm:null},height_mm:m}}))},disabled:n}),e.jsx(r,{message:t["dimensions.height_mm"],className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"mileage",children:"Mileage"}),e.jsx(u,{id:"mileage",placeholder:"Mileage",type:"number",value:l.mileage!==null?l.mileage:"",onChange:s=>a("mileage",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:t.mileage,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"weight",children:"Weight"}),e.jsx(u,{id:"weight",placeholder:"Weight",type:"number",value:l.weight!==null?l.weight:"",onChange:s=>a("weight",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:t.weight,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"price",children:"Price ($)"}),e.jsx(u,{id:"price",placeholder:"Price",type:"number",value:l.price!==null?l.price:"",onChange:s=>a("price",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:t.price,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"discount",children:"discount"}),e.jsx(u,{id:"discount",placeholder:"discount",type:"number",value:l.discount!==null?l.discount:"",onChange:s=>a("discount",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:t.discount,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"is_current",children:"Current price?"}),e.jsx(ne,{checked:l.is_current_price,onCheckedChange:s=>{a("is_current_price",s)},disabled:n}),e.jsx(r,{message:t.is_current_price,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"registration_year",children:"Registration Year"}),e.jsx(u,{id:"registration_year",placeholder:"Registration Year",type:"number",value:l.registration_year!==null?l.registration_year:"",onChange:s=>a("registration_year",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:t.registration_year,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"manufacture_year",children:"Manufacture Year"}),e.jsx(u,{id:"manufacture_year",placeholder:"Manufacture Year",type:"number",value:l.manufacture_year!==null?l.manufacture_year:"",onChange:s=>a("manufacture_year",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:t.manufacture_year,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"m_3",children:"M^3"}),e.jsx(u,{id:"m_3",placeholder:"M^3",type:"number",value:l.m_3!==null?l.m_3:"",onChange:s=>a("m_3",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:t.m_3,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"doors",children:"Doors"}),e.jsx(u,{id:"doors",placeholder:"Doors",type:"number",value:l.doors!==null?l.doors:"",onChange:s=>a("doors",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:t.doors,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"location",children:"Location"}),e.jsx(u,{id:"location",placeholder:"Location",type:"text",value:l.location||"",onChange:s=>a("location",s.target.value),disabled:n}),e.jsx(r,{message:t.location,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"engine_size",children:"Engine size"}),e.jsx(u,{id:"engine_size",placeholder:"Engine size",type:"number",value:l.engine_size!==null?l.engine_size:"",onChange:s=>a("engine_size",s.target.value===""?null:Number(s.target.value)),disabled:n}),e.jsx(r,{message:t.engine_size,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{className:"text-base",children:"Car options"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select car options."})]}),e.jsx("div",{className:"grid grid-cols-1 gap-x-3 sm:grid-cols-4",children:y.length>0?y.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{id:s.id.toString(),checked:l.features.some(m=>m.id===s.id),disabled:n,onCheckedChange:m=>{m?a("features",[...l.features,s]):a("features",l.features.filter(g=>g.id!==s.id))}}),e.jsx(d,{htmlFor:s.feature_name,className:"text-sm font-normal cursor-pointer",children:s.feature_name.replace(/_/g," ").replace(/\b\w/g,m=>m.toUpperCase())})]},s.id)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No features available."})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"image",children:"Main Car Image"}),e.jsxs("div",{...X(),className:`flex flex-col items-center justify-center p-6 border-2 border-dashed rounded-lg cursor-pointer
                            ${U?"border-primary":"border-gray-300"}
                            ${t.image?"border-destructive":""}
                        `,children:[e.jsx("input",{id:"image",...Z()}),e.jsx("p",{children:U?"Drop the image here...":"Drag & drop main image or click to select"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"(PNG, JPG, JPEG up to 1MB)"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a single JPEG/PNG image for the main car image."}),e.jsx(r,{message:t.image,className:"mt-2"}),D&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:D,alt:"Main Image Preview",className:"h-40 w-auto object-contain rounded shadow"})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"images",children:"Additional Car Images"}),e.jsxs("div",{...T(),className:`flex flex-col items-center justify-center p-6 border-2 border-dashed rounded-lg cursor-pointer
                            ${W?"border-primary":"border-gray-300"}
                            ${t.images?"border-destructive":""}
                        `,children:[e.jsx("input",{id:"images",...ee()}),e.jsx("p",{children:W?"Drop images here...":"Drag & drop images or click to select (max 6)"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload JPEG/PNG images only. Max 6 images."}),e.jsx(r,{message:t.images,className:"mt-2"}),G.length>0&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mt-2",children:G.map(s=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s.src,alt:"Preview",className:"rounded shadow object-cover h-40 w-full"}),e.jsx("button",{type:"button",onClick:()=>Q(s),className:"absolute top-1 right-1 bg-red-600 text-white text-xs px-2 py-1 rounded opacity-80 hover:opacity-100",children:"Remove"})]},s.id))})]}),e.jsx(te,{type:"submit",disabled:n,className:"w-fit",children:n?"Submitting...":"Submit"})]})})};function ye({car:i,brands:v,carModels:f,categories:b,fuelTypes:y,versions:S,sellers:C,features:_,colors:c}){const D=[{title:i?`Edit Car: ${i.version.car_model.brand.brand_name} ${i.version.car_model.model_name}`:"Add New Car",href:i?route("car.edit",i.id):route("car.create")}];return e.jsxs(ae,{breadcrumbs:D,children:[e.jsx(le,{title:i?"Edit Car Form":"Add New Car Form"}),e.jsx(oe,{car:i,brands:v,carModels:f,categories:b,fuelTypes:y,versions:S,sellers:C,features:_,colors:c})]})}export{ye as default};
