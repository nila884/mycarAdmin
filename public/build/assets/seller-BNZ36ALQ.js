import{r as v,m as N,j as e,L as E,S as D}from"./app-D9b7yil5.js";import{H as w}from"./heading-small-BU4M6w1f.js";import{B as j,t as f}from"./app-logo-icon-BTR4zcqo.js";import{D as b,a as S,b as C,c as _,d as F}from"./dialog-D1i5YGBp.js";import{I as d}from"./input-B72JrJ1W.js";import{L as i}from"./label-BjwQr2PU.js";import{I as o}from"./input-error-s3OvvhyU.js";import{A as T,X as L}from"./app-layout-lUKL1h8K.js";import{S as H}from"./layout-CxIxXWMW.js";import{T as U,f as I,a as O,b as y,c as p,d as P,e as m}from"./table-DsQtr8xT.js";/* empty css            */import"./index-CFDuspEi.js";import"./check-BcQx4ZQH.js";import"./heading-DtOTHioi.js";const B=()=>{const[a,h]=v.useState(!1),{data:s,setData:l,post:x,processing:c,errors:r,reset:u}=N({seller_name:"",phone:"",email:"",address:"",country:""}),g=t=>{t.preventDefault(),x(route("carseller.store"),{onSuccess:()=>{u(),h(!1),console.log("Seller created successfully!")},onError:n=>{console.error("Submission error:",n)},onFinish:()=>{}})};return e.jsxs(b,{open:a,onOpenChange:h,children:[e.jsx(S,{asChild:!0,children:e.jsx(j,{variant:"outline",children:"Add New Seller"})}),e.jsxs(C,{className:"sm:max-w-[500px]",children:[e.jsx(_,{children:e.jsx(F,{children:"Add New Seller"})}),e.jsxs("form",{onSubmit:g,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"seller_name",children:"Seller Name"}),e.jsx(d,{id:"seller_name",placeholder:"Seller's full name",value:s.seller_name,onChange:t=>l("seller_name",t.target.value),disabled:c}),e.jsx(o,{message:r.seller_name,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"email",children:"Email"}),e.jsx(d,{id:"email",type:"email",placeholder:"seller@example.com",value:s.email,onChange:t=>l("email",t.target.value),disabled:c}),e.jsx(o,{message:r.email,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"phone",children:"Phone"}),e.jsx(d,{id:"phone",type:"text",placeholder:"e.g., +1234567890",value:s.phone,onChange:t=>l("phone",t.target.value),disabled:c}),e.jsx(o,{message:r.phone,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"address",children:"Address"}),e.jsx(d,{id:"address",type:"text",placeholder:"Address",value:s.address,onChange:t=>l("address",t.target.value),disabled:c}),e.jsx(o,{message:r.address,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"country",children:"Country"}),e.jsx(d,{id:"country",type:"text",placeholder:"Country",value:s.country,onChange:t=>l("country",t.target.value),disabled:c}),e.jsx(o,{message:r.country,className:"mt-2"})]}),e.jsx(j,{type:"submit",disabled:c,children:c?"Submitting...":"Submit"})]})]})]})},z=({seller:a})=>{const[h,s]=v.useState(!1),{data:l,setData:x,patch:c,processing:r,errors:u,reset:g}=N({seller_name:a.seller_name,phone:a.phone,email:a.email,address:a.address,country:a.country,_method:"patch"});v.useEffect(()=>{h&&(x({seller_name:a.seller_name,phone:a.phone,email:a.email,address:a.address,country:a.country,_method:"patch"}),g())},[h,a]);const t=n=>{n.preventDefault(),c(route("carseller.update",a.id),{onSuccess:()=>{s(!1),console.log("Seller updated successfully!")},onError:A=>{console.error("Update error:",A)},onFinish:()=>{}})};return e.jsxs(b,{open:h,onOpenChange:s,children:[e.jsx(S,{asChild:!0,children:e.jsx(j,{variant:"outline",size:"sm",children:"Edit"})}),e.jsxs(C,{className:"sm:max-w-[500px]",children:[e.jsx(_,{children:e.jsx(F,{children:"Update Seller"})}),e.jsxs("form",{onSubmit:t,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"seller_name",children:"Seller Name"}),e.jsx(d,{id:"seller_name",placeholder:"Seller's full name",value:l.seller_name,onChange:n=>x("seller_name",n.target.value),disabled:r}),e.jsx(o,{message:u.seller_name,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"email",children:"Email"}),e.jsx(d,{id:"email",type:"email",placeholder:"seller@example.com",value:l.email,onChange:n=>x("email",n.target.value),disabled:r}),e.jsx(o,{message:u.email,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"phone",children:"Phone"}),e.jsx(d,{id:"phone",type:"text",placeholder:"e.g., +1234567890",value:l.phone,onChange:n=>x("phone",n.target.value),disabled:r}),e.jsx(o,{message:u.phone,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"address",children:"Address"}),e.jsx(d,{id:"address",type:"text",placeholder:"Address",value:l.address,onChange:n=>x("address",n.target.value),disabled:r}),e.jsx(o,{message:u.address,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"country",children:"Country"}),e.jsx(d,{id:"country",type:"text",placeholder:"Country",value:l.country,onChange:n=>x("country",n.target.value),disabled:r}),e.jsx(o,{message:u.country,className:"mt-2"})]}),e.jsx(j,{type:"submit",disabled:r,children:r?"Updating...":"Update Seller"})]})]})]})},R=[{title:"Car seller settings",href:"/car/settings/seller"}];function se({sellers:a}){function h(s){window.confirm("Are you sure you want to delete this seller?")&&D.delete(`/car/settings/seller/${s}`,{preserveScroll:!0,onSuccess:()=>{console.log("Seller deleted successfully!")},onError:l=>{console.error("Error deleting seller:",l),alert("Failed to delete seller. Please try again.")}})}return e.jsxs(T,{breadcrumbs:R,children:[e.jsx(E,{title:"Seller settings"}),e.jsx(H,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(w,{title:"Car seller settings",description:"Add new, update, and delete car sellers"}),e.jsx(B,{}),e.jsxs(U,{children:[e.jsx(I,{children:"A list of car sellers."}),e.jsx(O,{children:e.jsxs(y,{children:[e.jsx(p,{children:"Seller Name"}),e.jsx(p,{children:"Email"}),e.jsx(p,{children:"Phone"}),e.jsx(p,{children:"Address"}),e.jsx(p,{children:"Country"}),e.jsx(p,{children:"Created at"}),e.jsx(p,{children:"Last update"}),e.jsx(p,{className:"text-right",children:"Action"})]})}),e.jsx(P,{children:a.length>0?a.map(s=>e.jsxs(y,{children:[e.jsx(m,{className:"font-medium",children:s.seller_name}),e.jsx(m,{children:s.email}),e.jsx(m,{children:s.phone}),e.jsx(m,{children:s.address}),e.jsx(m,{children:s.country}),e.jsx(m,{children:f(s.created_at)}),e.jsx(m,{children:f(s.updated_at)}),e.jsx(m,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(z,{seller:s}),e.jsx(j,{className:"ml-2",size:"icon",variant:"destructive",onClick:()=>h(s.id),children:e.jsx(L,{className:"h-4 w-4"})})]})})]},s.id)):e.jsx(y,{children:e.jsx(m,{colSpan:8,className:"text-center",children:"No sellers found."})})})]})]})})]})}export{se as default};
