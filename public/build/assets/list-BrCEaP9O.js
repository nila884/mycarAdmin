import{r as f,m as _,j as e,L as D,S as A}from"./app-CpzzJYWB.js";import{L as d,I as h}from"./label-DIWS4fZ0.js";import{a as L,B as g}from"./app-logo-icon-BRdzGFKU.js";import{D as k,a as I,b as G,c as B,d as E,e as O}from"./dialog-IAiCvfs0.js";import{I as N}from"./input-BqO5v9Q5.js";import{S as R,a as M,b as z,c as H,d as F}from"./select-BZy5j78d.js";import{P as J}from"./pencil-Dr_zyYdK.js";import{P as Q}from"./plus-DSd0Nke9.js";import{A as y}from"./anchor-C32Eon4F.js";import{S as U}from"./shield-check-CaIxcCB0.js";import{B as V}from"./badge-2Lpb15S6.js";import{T as q,a as $,b as j,c as o,d as K,e as i}from"./table-m-fRdkLB.js";import{A as W}from"./app-layout-0mdJdW3J.js";import{L as X}from"./layout-o5QJUSRM.js";import{C as Y}from"./calendar-CE0drTaB.js";import{T as Z}from"./trash-2-CY27rHqF.js";/* empty css            */import"./index-BI1Ru79l.js";import"./check-DBe1amUb.js";import"./heading-aKTEqoiW.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],v=L("Globe",ee),b=({port:s,countries:r})=>{var p,u;const t=!!s,[a,c]=f.useState(!1),{data:m,setData:n,post:w,processing:S,errors:x}=_({_method:t?"patch":void 0,country_id:(s==null?void 0:s.country_id)||((p=r[0])==null?void 0:p.id)||"",name:(s==null?void 0:s.name)||"",code:(s==null?void 0:s.code)||""});f.useEffect(()=>{a&&t&&s&&n({_method:"patch",country_id:s.country_id,name:s.name,code:s.code||""})},[a,t,s,n]);const C=l=>{l.preventDefault();const P=t?"port.update":"port.store",T=t?[s.id]:[];w(route(P,...T),{onSuccess:()=>c(!1)})};return e.jsxs(k,{open:a,onOpenChange:c,children:[e.jsx(I,{asChild:!0,children:e.jsx(g,{variant:t?"ghost":"default",size:t?"icon":"sm",className:"gap-2",children:t?e.jsx(J,{className:"h-4 w-4"}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"h-4 w-4"})," Add New Port"]})})}),e.jsxs(G,{className:"sm:max-w-[450px]",children:[e.jsxs(B,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5 text-blue-600"}),t?"Update Port Gateway":"Register New Port"]}),e.jsx(O,{children:"Configure geographical gateway details for logistics tracking."})]}),e.jsxs("form",{onSubmit:C,className:"space-y-5 pt-4",children:[e.jsxs("div",{className:"space-y-4 rounded-lg border border-slate-100 bg-slate-50 p-4",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsx(v,{className:"h-3.5 w-3.5 text-slate-400"}),e.jsx(d,{className:"text-[10px] font-bold tracking-widest text-slate-500 uppercase",children:"Regional Placement"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(d,{className:"text-xs text-slate-600",children:"Country Jurisdiction"}),e.jsxs(R,{onValueChange:l=>n("country_id",parseInt(l)),value:(u=m.country_id)==null?void 0:u.toString(),children:[e.jsx(M,{className:"h-9 bg-white",children:e.jsx(z,{placeholder:"Assign to Country"})}),e.jsx(H,{children:r.map(l=>e.jsx(F,{value:l.id.toString(),children:l.country_name},l.id))})]}),e.jsx(h,{message:x.country_id})]})]}),e.jsxs("div",{className:"space-y-4 px-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(d,{className:"text-xs font-semibold",children:"Official Port Name"})}),e.jsx(N,{placeholder:"e.g. Port of Aqaba",value:m.name,onChange:l=>n("name",l.target.value),className:"h-10"}),e.jsx(h,{message:x.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-3.5 w-3.5 text-slate-400"}),e.jsx(d,{className:"text-xs font-semibold",children:"System Port Code"})]}),e.jsx(N,{placeholder:"e.g. JQAQ",value:m.code,onChange:l=>n("code",l.target.value),className:"h-10 font-mono uppercase"}),e.jsx(h,{message:x.code})]})]}),e.jsx(g,{type:"submit",disabled:S,className:"h-10 w-full bg-slate-900 hover:bg-slate-800",children:t?"Save Gateway Changes":"Confirm Port Registration"})]})]})]})};function ye({ports:s,countries:r}){function t(a){window.confirm("Are you sure you want to delete this port? This will also delete associated shipping cost records.")&&A.delete(`/shipping/ports/${a}`,{preserveScroll:!0})}return e.jsxs(W,{children:[e.jsx(D,{title:"Port Settings"}),e.jsxs(X,{children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Port Gateways"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage international entry points and logistics hubs."})]}),e.jsx(b,{countries:r})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:e.jsxs(q,{children:[e.jsx($,{className:"bg-slate-50/50",children:e.jsxs(j,{children:[e.jsx(o,{className:"w-[300px]",children:"Port Identity"}),e.jsx(o,{children:"Location"}),e.jsx(o,{children:"System Code"}),e.jsx(o,{children:"Last Activity"}),e.jsx(o,{className:"px-6 text-right",children:"Management"})]})}),e.jsx(K,{children:s.length>0?s.map(a=>{var c;return e.jsxs(j,{className:"transition-colors hover:bg-slate-50/50",children:[e.jsx(i,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-blue-100 p-2",children:e.jsx(y,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-slate-900",children:a.name}),e.jsx("span",{className:"text-[10px] font-bold tracking-wider text-slate-400 uppercase",children:"Gateway Terminal"})]})]})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(v,{className:"h-3.5 w-3.5 text-slate-400"}),e.jsx("span",{className:"text-sm",children:(c=a.country)==null?void 0:c.country_name})]})}),e.jsx(i,{children:e.jsx(V,{variant:"secondary",className:"border-none bg-slate-100 font-mono text-[11px] text-slate-600",children:a.code||"NO-CODE"})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(Y,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"text-xs",children:a.updated_at})]})}),e.jsx(i,{className:"px-6 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(b,{port:a,countries:r}),e.jsx(g,{size:"icon",variant:"ghost",className:"text-slate-400 hover:bg-red-50 hover:text-red-600",onClick:()=>t(a.id),children:e.jsx(Z,{className:"h-4 w-4"})})]})})]},a.id)}):e.jsx(j,{children:e.jsx(i,{colSpan:5,className:"h-32 text-center text-slate-500 italic",children:"No ports registered in the system."})})})]})})]})]})}export{ye as default};
