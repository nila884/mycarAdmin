import{r as f,m as D,j as e,L as _,S as A}from"./app-P_30Ywqc.js";import{L as o,I as h}from"./label-BF5kNt9L.js";import{B as g}from"./app-logo-icon-D0-bOfxz.js";import{D as L,a as I,b as k,c as G,d as B,e as E}from"./dialog-CrpZ_p-3.js";import{I as N}from"./input-DAF9M8uG.js";import{S as O,a as R,b as H,c as z,d as F}from"./select-D-h1gbiG.js";import{P as J}from"./pencil-0Fym70Ww.js";import{P as M}from"./plus-pACgfdrz.js";import{A as y}from"./anchor-DMb2We3D.js";import{G as v}from"./globe-wjw9Zrez.js";import{S as Q}from"./shield-check-CPYT8Ec6.js";import{B as U}from"./badge-ipgmCuak.js";import{T as V,a as q,b as j,c as d,d as $,e as i}from"./table-DwB0cqgP.js";import{A as K}from"./app-layout-DuYsczsc.js";import{L as W}from"./layout-CbUYXnFC.js";import{C as X}from"./calendar-CP01FjOY.js";import{T as Y}from"./trash-2-CmwDl5vt.js";/* empty css            */import"./index-COjtLgPO.js";import"./check-Cy2qj5ij.js";import"./heading-DeQyy-7-.js";const b=({port:s,countries:r})=>{var p,u;const t=!!s,[a,n]=f.useState(!1),{data:m,setData:c,post:w,processing:S,errors:x}=D({_method:t?"patch":void 0,country_id:(s==null?void 0:s.country_id)||((p=r[0])==null?void 0:p.id)||"",name:(s==null?void 0:s.name)||"",code:(s==null?void 0:s.code)||""});f.useEffect(()=>{a&&t&&s&&c({_method:"patch",country_id:s.country_id,name:s.name,code:s.code||""})},[a,t,s,c]);const C=l=>{l.preventDefault();const P=t?"port.update":"port.store",T=t?[s.id]:[];w(route(P,...T),{onSuccess:()=>n(!1)})};return e.jsxs(L,{open:a,onOpenChange:n,children:[e.jsx(I,{asChild:!0,children:e.jsx(g,{variant:t?"ghost":"default",size:t?"icon":"sm",className:"gap-2",children:t?e.jsx(J,{className:"h-4 w-4"}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-4 w-4"})," Add New Port"]})})}),e.jsxs(k,{className:"sm:max-w-[450px]",children:[e.jsxs(G,{children:[e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5 text-blue-600"}),t?"Update Port Gateway":"Register New Port"]}),e.jsx(E,{children:"Configure geographical gateway details for logistics tracking."})]}),e.jsxs("form",{onSubmit:C,className:"space-y-5 pt-4",children:[e.jsxs("div",{className:"space-y-4 rounded-lg border border-slate-100 bg-slate-50 p-4",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsx(v,{className:"h-3.5 w-3.5 text-slate-400"}),e.jsx(o,{className:"text-[10px] font-bold tracking-widest text-slate-500 uppercase",children:"Regional Placement"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{className:"text-xs text-slate-600",children:"Country Jurisdiction"}),e.jsxs(O,{onValueChange:l=>c("country_id",parseInt(l)),value:(u=m.country_id)==null?void 0:u.toString(),children:[e.jsx(R,{className:"h-9 bg-white",children:e.jsx(H,{placeholder:"Assign to Country"})}),e.jsx(z,{children:r.map(l=>e.jsx(F,{value:l.id.toString(),children:l.country_name},l.id))})]}),e.jsx(h,{message:x.country_id})]})]}),e.jsxs("div",{className:"space-y-4 px-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(o,{className:"text-xs font-semibold",children:"Official Port Name"})}),e.jsx(N,{placeholder:"e.g. Port of Aqaba",value:m.name,onChange:l=>c("name",l.target.value),className:"h-10"}),e.jsx(h,{message:x.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-3.5 w-3.5 text-slate-400"}),e.jsx(o,{className:"text-xs font-semibold",children:"System Port Code"})]}),e.jsx(N,{placeholder:"e.g. JQAQ",value:m.code,onChange:l=>c("code",l.target.value),className:"h-10 font-mono uppercase"}),e.jsx(h,{message:x.code})]})]}),e.jsx(g,{type:"submit",disabled:S,className:"h-10 w-full bg-slate-900 hover:bg-slate-800",children:t?"Save Gateway Changes":"Confirm Port Registration"})]})]})]})};function be({ports:s,countries:r}){function t(a){window.confirm("Are you sure you want to delete this port? This will also delete associated shipping cost records.")&&A.delete(`/shipping/ports/${a}`,{preserveScroll:!0})}return e.jsxs(K,{children:[e.jsx(_,{title:"Port Settings"}),e.jsxs(W,{children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Port Gateways"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage international entry points and logistics hubs."})]}),e.jsx(b,{countries:r})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:e.jsxs(V,{children:[e.jsx(q,{className:"bg-slate-50/50",children:e.jsxs(j,{children:[e.jsx(d,{className:"w-[300px]",children:"Port Identity"}),e.jsx(d,{children:"Location"}),e.jsx(d,{children:"System Code"}),e.jsx(d,{children:"Last Activity"}),e.jsx(d,{className:"px-6 text-right",children:"Management"})]})}),e.jsx($,{children:s.length>0?s.map(a=>{var n;return e.jsxs(j,{className:"transition-colors hover:bg-slate-50/50",children:[e.jsx(i,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-blue-100 p-2",children:e.jsx(y,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-slate-900",children:a.name}),e.jsx("span",{className:"text-[10px] font-bold tracking-wider text-slate-400 uppercase",children:"Gateway Terminal"})]})]})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(v,{className:"h-3.5 w-3.5 text-slate-400"}),e.jsx("span",{className:"text-sm",children:(n=a.country)==null?void 0:n.country_name})]})}),e.jsx(i,{children:e.jsx(U,{variant:"secondary",className:"border-none bg-slate-100 font-mono text-[11px] text-slate-600",children:a.code||"NO-CODE"})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(X,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"text-xs",children:a.updated_at})]})}),e.jsx(i,{className:"px-6 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(b,{port:a,countries:r}),e.jsx(g,{size:"icon",variant:"ghost",className:"text-slate-400 hover:bg-red-50 hover:text-red-600",onClick:()=>t(a.id),children:e.jsx(Y,{className:"h-4 w-4"})})]})})]},a.id)}):e.jsx(j,{children:e.jsx(i,{colSpan:5,className:"h-32 text-center text-slate-500 italic",children:"No ports registered in the system."})})})]})})]})]})}export{be as default};
