import{r as g,m as y,j as e,L as M,S as f}from"./app-CpzzJYWB.js";import{H as T}from"./heading-small-C21NelVd.js";import{B as o,t as b}from"./app-logo-icon-BRdzGFKU.js";import{T as w,f as D,a as A,b as m,c as l,d as L,e as i}from"./table-m-fRdkLB.js";import{A as U,X as E}from"./app-layout-0mdJdW3J.js";import{S as H}from"./layout-DeUCJ5CU.js";import{L as _,I as v}from"./label-DIWS4fZ0.js";import{D as I,a as B,b as F,c as P,d as k}from"./dialog-IAiCvfs0.js";import{I as z}from"./input-BqO5v9Q5.js";import{S as $,a as O,b as R,c as V,d as X}from"./select-BZy5j78d.js";import{P as q}from"./pencil-Dr_zyYdK.js";import{P as G}from"./plus-DSd0Nke9.js";/* empty css            */import"./index-BI1Ru79l.js";import"./check-DBe1amUb.js";import"./heading-aKTEqoiW.js";const C=({model:a,brands:d})=>{var u;const t=!!a,[s,n]=g.useState(!1),{data:x,setData:c,post:N,processing:h,errors:p,clearErrors:j}=y({_method:t?"patch":void 0,model_name:(a==null?void 0:a.model_name)??"",brand_id:((u=a==null?void 0:a.brand_id)==null?void 0:u.toString())??""});g.useEffect(()=>{var r;s&&(c({_method:t?"patch":void 0,model_name:(a==null?void 0:a.model_name)??"",brand_id:((r=a==null?void 0:a.brand_id)==null?void 0:r.toString())??""}),j())},[s,a,t,c,j]);const S=r=>{r.preventDefault(),N(route(t?"carmodel.update":"carmodel.store",a==null?void 0:a.id),{onSuccess:()=>n(!1)})};return e.jsxs(I,{open:s,onOpenChange:n,children:[e.jsx(B,{asChild:!0,children:e.jsx(o,{variant:t?"outline":"default",size:t?"icon":"default",children:t?e.jsx(q,{className:"h-4 w-4"}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"mr-2 h-4 w-4"})," Add Model"]})})}),e.jsxs(F,{className:"sm:max-w-[425px]",children:[e.jsx(P,{children:e.jsx(k,{children:t?"Update Car Model":"Create Car Model"})}),e.jsxs("form",{onSubmit:S,className:"space-y-6 pt-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{htmlFor:"brand_id",children:"Brand"}),e.jsxs($,{value:x.brand_id,onValueChange:r=>c("brand_id",r),children:[e.jsx(O,{id:"brand_id",children:e.jsx(R,{placeholder:"Select a brand"})}),e.jsx(V,{children:d.map(r=>e.jsx(X,{value:r.id.toString(),children:r.brand_name},r.id))})]}),e.jsx(v,{message:p.brand_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{htmlFor:"model_name",children:"Model Name"}),e.jsx(z,{id:"model_name",placeholder:"e.g. Corolla, Civic, Mustang",value:x.model_name,onChange:r=>c("model_name",r.target.value)}),e.jsx(v,{message:p.model_name})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(o,{variant:"ghost",type:"button",onClick:()=>n(!1),children:"Cancel"}),e.jsx(o,{disabled:h,type:"submit",children:h?"Savingâ€¦":t?"Update Model":"Create Model"})]})]})]})]})},J=[{title:"Car model settings",href:"/car/settings/model"}];function me({models:a,brands:d}){const t=s=>{confirm("Are you sure you want to delete this car model?")&&f.delete(route("carmodel.destroy",s),{preserveScroll:!0,onSuccess:()=>{},onError:n=>{console.error("Delete error:",n)}})};return e.jsxs(U,{breadcrumbs:J,children:[e.jsx(M,{title:"Model settings"}),e.jsx(H,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(T,{title:"Car Model settings",description:"Add new, Update and delete car Models name"}),e.jsx(C,{brands:d}),e.jsxs(w,{className:"min-w-full",children:[e.jsx(D,{children:"A list of your car model."}),e.jsx(A,{children:e.jsxs(m,{children:[e.jsx(l,{className:"w-[100px]",children:"Model Name"}),e.jsx(l,{children:"Brand Name"}),e.jsx(l,{children:"Created At"}),e.jsx(l,{children:"Last Update"}),e.jsx(l,{className:"text-right",children:"Action"})]})}),e.jsx(L,{children:a.data.length>0?a.data.map(s=>e.jsxs(m,{children:[e.jsx(i,{className:"font-medium",children:s.model_name.toUpperCase()}),e.jsx(i,{children:s.brand_name.toUpperCase()}),e.jsx(i,{children:b(s.created_at)}),e.jsx(i,{children:b(s.updated_at)}),e.jsx(i,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(C,{model:s,brands:d}),e.jsx(o,{className:"ml-2",size:"icon",variant:"destructive",onClick:()=>t(s.id),children:e.jsx(E,{})})]})})]},s.id)):e.jsx(m,{children:e.jsx(i,{colSpan:5,className:"text-center",children:"No car models found."})})})]}),a.links&&a.links.length>3&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("nav",{className:"flex rounded-md shadow","aria-label":"Pagination",children:a.links.map((s,n)=>e.jsx("button",{onClick:()=>s.url&&f.get(s.url),disabled:!s.url,className:`relative inline-flex items-center border px-4 py-2 text-sm font-medium ${s.active?"z-10 border-indigo-500 bg-indigo-50 text-indigo-600":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"} ${n===0?"rounded-l-md":""} ${n===a.links.length-1?"rounded-r-md":""} `,dangerouslySetInnerHTML:{__html:s.label}},n))})})]})})]})}export{me as default};
