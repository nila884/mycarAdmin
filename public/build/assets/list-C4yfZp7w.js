import{r as w,m as C,j as e,L as T,S as A}from"./app-CpzzJYWB.js";import{L as m,I as p}from"./label-DIWS4fZ0.js";import{a as S,B as x}from"./app-logo-icon-BRdzGFKU.js";import{D,a as L,b as z,c as P,d as B}from"./dialog-IAiCvfs0.js";import{I as o}from"./input-BqO5v9Q5.js";import{P as R}from"./pencil-Dr_zyYdK.js";import{P as k}from"./plus-DSd0Nke9.js";import{B as f}from"./building-2-C83DOV-C.js";import{S as I}from"./shield-check-CaIxcCB0.js";import{B as E}from"./badge-2Lpb15S6.js";import{T as F,a as H,b as j,c as n,d as U,e as d}from"./table-m-fRdkLB.js";import{A as M}from"./app-layout-0mdJdW3J.js";import{L as O}from"./layout-o5QJUSRM.js";import{T as q}from"./truck-C9O4RxGQ.js";import{T as G}from"./trash-2-CY27rHqF.js";/* empty css            */import"./index-BI1Ru79l.js";import"./check-DBe1amUb.js";import"./heading-aKTEqoiW.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],K=S("Phone",J),u=({agency:s})=>{const i=!!s,[a,c]=w.useState(!1),{data:t,setData:l,post:N,put:v,processing:b,errors:h,reset:g}=C({name:(s==null?void 0:s.name)||"",business_registration_number:(s==null?void 0:s.business_registration_number)||"",tax_identification_number:(s==null?void 0:s.tax_identification_number)||"",contact_person:(s==null?void 0:s.person)||"",phone:(s==null?void 0:s.phone)||"",email:(s==null?void 0:s.email)||"",address:(s==null?void 0:s.address)||"",fleet_size:(s==null?void 0:s.fleet_size)||0}),_=r=>{r.preventDefault(),i?v(route("delivery-driver-agency.update",(s==null?void 0:s.id)??void 0),{onSuccess:()=>c(!1)}):N(route("delivery-driver-agency.store"),{onSuccess:()=>{c(!1),g()}})};return e.jsxs(D,{open:a,onOpenChange:c,children:[e.jsx(L,{asChild:!0,children:e.jsx(x,{variant:i?"ghost":"default",size:i?"icon":"sm",className:"gap-2",children:i?e.jsx(R,{className:"h-4 w-4"}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"h-4 w-4"})," Register Agency"]})})}),e.jsxs(z,{className:"sm:max-w-[500px]",children:[e.jsx(P,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),i?"Update Agency Details":"Register New Delivery Agency"]})}),e.jsxs("form",{onSubmit:_,className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(m,{children:"Company Name"}),e.jsx(o,{value:t.name,onChange:r=>l("name",r.target.value),placeholder:"Legal entity name"}),e.jsx(p,{message:h.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(m,{className:"flex items-center gap-1",children:[e.jsx(I,{className:"h-3 w-3"})," Registration №"]}),e.jsx(o,{value:t.business_registration_number,onChange:r=>l("business_registration_number",r.target.value)}),e.jsx(p,{message:h.business_registration_number})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Fleet Size (Trucks)"}),e.jsx(o,{type:"number",value:t.fleet_size,onChange:r=>l("fleet_size",r.target.value)})]})]}),e.jsxs("div",{className:"space-y-3 rounded-sm bg-gray-50 p-3",children:[e.jsxs(m,{className:"flex items-center gap-2 text-xs font-bold uppercase",children:[e.jsx(K,{className:"h-3 w-3"})," Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(o,{placeholder:"Contact Person",value:t.contact_person,onChange:r=>l("contact_person",r.target.value),className:"bg-white"}),e.jsx(o,{placeholder:"Phone Number",value:t.phone,onChange:r=>l("phone",r.target.value),className:"bg-white"})]}),e.jsx(o,{placeholder:"Email Address",value:t.email,onChange:r=>l("email",r.target.value),className:"bg-white"})]}),e.jsx(x,{type:"submit",className:"w-full",disabled:b,children:i?"Save Changes":"Confirm Registration"})]})]})]})};function ce({agencies:s}){const i=a=>{confirm("Are you sure you want to remove this agency? This may affect linked tariffs.")&&A.delete(route("delivery-driver-agencies.destroy",a))};return e.jsxs(M,{children:[e.jsx(T,{title:"Country Settings"}),e.jsx(O,{children:e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Professional Agencies"}),e.jsx("p",{className:"text-gray-500",children:"Manage external logistics partners and their fleet capacity."})]}),e.jsx(u,{})]}),e.jsx("div",{className:"overflow-hidden rounded-sm border border-gray-100 bg-white",children:e.jsxs(F,{children:[e.jsx(H,{className:"bg-slate-50",children:e.jsxs(j,{children:[e.jsx(n,{children:"Agency Name"}),e.jsx(n,{children:"Registration №"}),e.jsx(n,{children:"Fleet Size"}),e.jsx(n,{children:"Person"}),e.jsx(n,{children:"Contact"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(U,{children:s.map(a=>e.jsxs(j,{children:[e.jsx(d,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-emerald-100 p-2",children:e.jsx(f,{className:"h-4 w-4 text-emerald-600"})}),a.name]})}),e.jsx(d,{children:e.jsx("code",{className:"rounded p-1 text-xs",children:a.business_registration_number})}),e.jsx(d,{children:e.jsxs(E,{variant:"outline",className:"gap-1",children:[e.jsx(q,{className:"h-3 w-3"})," ",a.fleet_size," Units"]})}),e.jsx(d,{children:e.jsx("div",{className:"text-sm",children:e.jsx("div",{className:"font-medium",children:a.person})})}),e.jsx(d,{children:e.jsxs("code",{className:"rounded p-1 text-xs",children:[e.jsx("div",{className:"text-xs text-gray-400",children:a.phone}),e.jsx("div",{className:"text-xs text-gray-400",children:a.email})]})}),e.jsx(d,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(u,{agency:a}),e.jsx(x,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>i(a.id),children:e.jsx(G,{className:"h-4 w-4"})})]})})]},a.id))})]})})]})})]})}export{ce as default};
