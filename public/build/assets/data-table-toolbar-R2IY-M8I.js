import{r as c,S as m,j as e}from"./app-6Tb5ZP8Z.js";import{B as b}from"./app-logo-icon-DuFZg3_n.js";import{I as w}from"./input-Tv1L73iO.js";import{S as p,a as j,b as S,c as g,d as l}from"./select-rOePYllV.js";import{a as f,b as C}from"./index-DLXG6-T8.js";import{C as _}from"./checkbox-DapDvUN-.js";import{X as N}from"./app-layout-D9kDhLsM.js";function V({table:v,filters:s}){const[o,u]=c.useState((s==null?void 0:s.search)??""),[t,d]=c.useState((s==null?void 0:s.publication_status)??"all"),[r,h]=c.useState((s==null?void 0:s.car_selling_status)??"all"),i=f(o,500),x=c.useRef(!0);return c.useEffect(()=>{if(x.current){x.current=!1;return}const n=new URL(window.location.href),a=Object.fromEntries(n.searchParams.entries());i?(a.search=i,a.page="1"):delete a.search,t!=="all"?(a.publication_status=t,a.page="1"):delete a.publication_status,r!=="all"?(a.car_selling_status=r,a.page="1"):delete a.car_selling_status,m.get(route(route().current()??"car.index"),a,{preserveState:!0,preserveScroll:!0,replace:!0})},[i,t,r]),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(w,{placeholder:"Search brand or model...",value:o,onChange:n=>u(n.target.value),className:"w-[250px]"}),e.jsxs(p,{value:t,onValueChange:d,children:[e.jsx(j,{className:"w-[180px]",children:e.jsx(S,{placeholder:"Publication status"})}),e.jsxs(g,{children:[e.jsx(l,{value:"all",children:"All statuses"}),e.jsx(l,{value:"published",children:"Published"}),e.jsx(l,{value:"pending",children:"Pending"}),e.jsx(l,{value:"archived",children:"Archived"})]})]}),e.jsxs(p,{value:r,onValueChange:h,children:[e.jsx(j,{className:"w-[180px]",children:e.jsx(S,{placeholder:"Selling status"})}),e.jsxs(g,{children:[e.jsx(l,{value:"all",children:"All "}),e.jsx(l,{value:"selling",children:"Selling"}),e.jsx(l,{value:"reserved",children:"Reserved"}),e.jsx(l,{value:"sold",children:"Sold"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{id:"discounted",checked:!!s.discounted,onCheckedChange:n=>{const a=new URLSearchParams(window.location.search);n?a.set("discounted","1"):a.delete("discounted"),a.set("page","1"),m.get(route(route().current()??"car.index"),Object.fromEntries(a),{preserveState:!0,replace:!0})}}),e.jsx("label",{htmlFor:"discounted",className:"text-sm font-medium leading-none",children:"Discounted only"})]}),(o||t!=="all"||r!=="all")&&e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>{u(""),d("all"),h("all")},children:["Reset ",e.jsx(N,{className:"ml-2 h-4 w-4"})]}),e.jsx(C,{table:v})]})}export{V as D};
