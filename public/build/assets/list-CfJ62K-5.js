import{j as e,S as m,R as w,L as f}from"./app-6Tb5ZP8Z.js";import{D as N,a as S,b as C,e as y,c as d,d as D,A as v}from"./app-layout-D9kDhLsM.js";import{B as T}from"./badge-DnUI-tbF.js";import{a as u,B as M}from"./app-logo-icon-DuFZg3_n.js";import{E as _,u as R,f as g,D as k,g as z}from"./index-DLXG6-T8.js";import{T as L}from"./truck-DwNVZ4J3.js";import{C as I}from"./circle-x-hOb7U3LD.js";import{T as B,a as E,b as p,c as O,d as A,e as h}from"./table-BV1WF4_B.js";import{D as V}from"./data-table-toolbar-R2IY-M8I.js";/* empty css            */import"./index-B0gXBjpX.js";import"./check-DFbbQ8R1.js";import"./input-Tv1L73iO.js";import"./select-rOePYllV.js";import"./checkbox-DapDvUN-.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],P=u("CircleCheckBig",H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K=u("Eye",$);function U({row:a}){const t=a.original,r=c=>{m.patch(route("order.update-status",t.id),{status:c},{preserveScroll:!0})};return e.jsxs(N,{children:[e.jsx(S,{asChild:!0,children:e.jsx(M,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(_,{className:"h-4 w-4"})})}),e.jsxs(C,{align:"end",className:"w-[160px]",children:[e.jsx(y,{children:"Actions"}),e.jsxs(d,{onClick:()=>m.get(route("order.show",t.id)),children:[e.jsx(K,{className:"mr-2 h-4 w-4"})," View Details"]}),e.jsx(D,{}),e.jsxs(d,{onClick:()=>r("shipped"),children:[e.jsx(L,{className:"mr-2 h-4 w-4"})," Ship Order"]}),e.jsxs(d,{onClick:()=>r("delivered"),children:[e.jsx(P,{className:"mr-2 h-4 w-4"})," Deliver"]}),e.jsxs(d,{onClick:()=>r("cancelled"),className:"text-red-600",children:[e.jsx(I,{className:"mr-2 h-4 w-4"})," Cancel"]})]})]})}const F=[{accessorKey:"order_number",header:"Order #",cell:({row:a})=>e.jsx("span",{className:"font-mono font-medium",children:a.getValue("order_number")})},{id:"vehicle",header:"Vehicle",cell:({row:a})=>{const t=a.original.vehicle;return e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-slate-900",children:t.name}),e.jsx("span",{className:"text-xs text-slate-500",children:t.chassis_number})]})}},{accessorKey:"status",header:"Status",cell:({row:a})=>{const t=a.getValue("status"),r={pending:"bg-yellow-100 text-yellow-800 border-yellow-200",shipped:"bg-blue-100 text-blue-800 border-blue-200",delivered:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200"};return e.jsx(T,{variant:"outline",className:`capitalize ${r[t]||""}`,children:t})}},{id:"total",header:"Total (USD)",cell:({row:a})=>{const t=a.original.pricing;return e.jsxs("span",{className:"font-semibold",children:["$",t.total_amount.toLocaleString()]})}},{id:"date",header:"Date",accessorFn:a=>a.dates.created_at},{id:"actions",cell:({row:a})=>e.jsx(U,{row:a})}];function X({columns:a,data:t,serverPagination:r,onServerPageChange:c,filters:o}){const[x,j]=w.useState(o!=null&&o.sort?[{id:String(o.sort),desc:o.direction==="desc"}]:[]),i=R({data:t,columns:a,getCoreRowModel:z(),manualPagination:!0,manualSorting:!0,enableMultiSort:!0,pageCount:r.pageCount,onSortingChange:n=>{const s=typeof n=="function"?n(x):n;j(s);const b=new URL(window.location.href),l=Object.fromEntries(b.searchParams.entries());s.length?(l.sort=s[0].id,l.direction=s[0].desc?"desc":"asc",l.page="1"):(delete l.sort,delete l.direction),m.get(route("order.index"),l,{preserveState:!0,preserveScroll:!0,replace:!0})},onPaginationChange:n=>{const s=typeof n=="function"?n({pageIndex:r.pageIndex,pageSize:r.pageSize}):n;c(s.pageIndex+1,s.pageSize)},state:{sorting:x,pagination:{pageIndex:r.pageIndex,pageSize:r.pageSize}}});return e.jsxs("div",{className:"space-y-4",children:[e.jsx(V,{table:i,filters:o}),e.jsx("div",{className:"rounded-md border bg-white shadow-sm overflow-hidden",children:e.jsxs(B,{children:[e.jsx(E,{className:"bg-slate-50",children:i.getHeaderGroups().map(n=>e.jsx(p,{children:n.headers.map(s=>e.jsx(O,{className:"text-slate-700 font-semibold px-4 py-3",children:s.isPlaceholder?null:g(s.column.columnDef.header,s.getContext())},s.id))},n.id))}),e.jsx(A,{children:i.getRowModel().rows.length>0?i.getRowModel().rows.map(n=>e.jsx(p,{className:"hover:bg-slate-50/50 transition-colors",children:n.getVisibleCells().map(s=>e.jsx(h,{className:"px-4 py-3",children:g(s.column.columnDef.cell,s.getContext())},s.id))},n.id)):e.jsx(p,{children:e.jsx(h,{colSpan:a.length,className:"h-32 text-center text-slate-500 font-medium",children:"No orders found matching your criteria."})})})]})}),e.jsx(k,{table:i})]})}function ce({orders:a,filters:t}){return e.jsxs(v,{children:[e.jsx(f,{title:"Order Management"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Orders"}),e.jsx(X,{columns:F,data:a.data,filters:t,serverPagination:{pageIndex:a.meta.current_page-1,pageSize:a.meta.per_page,pageCount:a.meta.last_page},onServerPageChange:(r,c)=>{m.get(route("order.index"),{...t,page:r,per_page:c})}})]})]})}export{ce as default};
